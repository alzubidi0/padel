var jy=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var C2=jy((k2,ms)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rf={exports:{}},qo={},Mf={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cs=Symbol.for("react.element"),zy=Symbol.for("react.portal"),Wy=Symbol.for("react.fragment"),Uy=Symbol.for("react.strict_mode"),By=Symbol.for("react.profiler"),$y=Symbol.for("react.provider"),Vy=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),Gy=Symbol.for("react.suspense"),Yy=Symbol.for("react.memo"),Qy=Symbol.for("react.lazy"),dd=Symbol.iterator;function qy(t){return t===null||typeof t!="object"?null:(t=dd&&t[dd]||t["@@iterator"],typeof t=="function"?t:null)}var Df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Of=Object.assign,Af={};function Yr(t,e,n){this.props=t,this.context=e,this.refs=Af,this.updater=n||Df}Yr.prototype.isReactComponent={};Yr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lf(){}Lf.prototype=Yr.prototype;function Nu(t,e,n){this.props=t,this.context=e,this.refs=Af,this.updater=n||Df}var Tu=Nu.prototype=new Lf;Tu.constructor=Nu;Of(Tu,Yr.prototype);Tu.isPureReactComponent=!0;var hd=Array.isArray,jf=Object.prototype.hasOwnProperty,Iu={current:null},Ff={key:!0,ref:!0,__self:!0,__source:!0};function zf(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)jf.call(e,r)&&!Ff.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:cs,type:t,key:s,ref:o,props:i,_owner:Iu.current}}function Ky(t,e){return{$$typeof:cs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pu(t){return typeof t=="object"&&t!==null&&t.$$typeof===cs}function Xy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fd=/\/+/g;function Nl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Xy(""+t.key):e.toString(36)}function Hs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cs:case zy:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Nl(o,0):r,hd(i)?(n="",t!=null&&(n=t.replace(fd,"$&/")+"/"),Hs(i,e,n,"",function(u){return u})):i!=null&&(Pu(i)&&(i=Ky(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fd,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",hd(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+Nl(s,l);o+=Hs(s,e,n,a,i)}else if(a=qy(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+Nl(s,l++),o+=Hs(s,e,n,a,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Es(t,e,n){if(t==null)return t;var r=[],i=0;return Hs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Jy(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ge={current:null},Gs={transition:null},Zy={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Gs,ReactCurrentOwner:Iu};function Wf(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Es,forEach:function(t,e,n){Es(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Es(t,function(){e++}),e},toArray:function(t){return Es(t,function(e){return e})||[]},only:function(t){if(!Pu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Yr;G.Fragment=Wy;G.Profiler=By;G.PureComponent=Nu;G.StrictMode=Uy;G.Suspense=Gy;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zy;G.act=Wf;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Of({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Iu.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)jf.call(e,a)&&!Ff.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:cs,type:t.type,key:i,ref:s,props:r,_owner:o}};G.createContext=function(t){return t={$$typeof:Vy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$y,_context:t},t.Consumer=t};G.createElement=zf;G.createFactory=function(t){var e=zf.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:Hy,render:t}};G.isValidElement=Pu;G.lazy=function(t){return{$$typeof:Qy,_payload:{_status:-1,_result:t},_init:Jy}};G.memo=function(t,e){return{$$typeof:Yy,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=Gs.transition;Gs.transition={};try{t()}finally{Gs.transition=e}};G.unstable_act=Wf;G.useCallback=function(t,e){return Ge.current.useCallback(t,e)};G.useContext=function(t){return Ge.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Ge.current.useDeferredValue(t)};G.useEffect=function(t,e){return Ge.current.useEffect(t,e)};G.useId=function(){return Ge.current.useId()};G.useImperativeHandle=function(t,e,n){return Ge.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Ge.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Ge.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Ge.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Ge.current.useReducer(t,e,n)};G.useRef=function(t){return Ge.current.useRef(t)};G.useState=function(t){return Ge.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Ge.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Ge.current.useTransition()};G.version="18.3.1";Mf.exports=G;var B=Mf.exports;const ks=Fy(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=B,tv=Symbol.for("react.element"),nv=Symbol.for("react.fragment"),rv=Object.prototype.hasOwnProperty,iv=ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sv={key:!0,ref:!0,__self:!0,__source:!0};function Uf(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rv.call(e,r)&&!sv.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tv,type:t,key:s,ref:o,props:i,_owner:iv.current}}qo.Fragment=nv;qo.jsx=Uf;qo.jsxs=Uf;Rf.exports=qo;var h=Rf.exports,Bf={exports:{}},lt={},$f={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,U){var _=b.length;b.push(U);e:for(;0<_;){var m=_-1>>>1,I=b[m];if(0<i(I,U))b[m]=U,b[_]=I,_=m;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var U=b[0],_=b.pop();if(_!==U){b[0]=_;e:for(var m=0,I=b.length,A=I>>>1;m<A;){var F=2*(m+1)-1,$=b[F],W=F+1,O=b[W];if(0>i($,_))W<I&&0>i(O,$)?(b[m]=O,b[W]=_,m=W):(b[m]=$,b[F]=_,m=F);else if(W<I&&0>i(O,_))b[m]=O,b[W]=_,m=W;else break e}}return U}function i(b,U){var _=b.sortIndex-U.sortIndex;return _!==0?_:b.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,d=null,f=3,w=!1,v=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(b){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=b)r(u),U.sortIndex=U.expirationTime,e(a,U);else break;U=n(u)}}function S(b){if(x=!1,g(b),!v)if(n(a)!==null)v=!0,or(P);else{var U=n(u);U!==null&&ni(S,U.startTime-b)}}function P(b,U){v=!1,x&&(x=!1,y(N),N=-1),w=!0;var _=f;try{for(g(U),d=n(a);d!==null&&(!(d.expirationTime>U)||b&&!j());){var m=d.callback;if(typeof m=="function"){d.callback=null,f=d.priorityLevel;var I=m(d.expirationTime<=U);U=t.unstable_now(),typeof I=="function"?d.callback=I:d===n(a)&&r(a),g(U)}else r(a);d=n(a)}if(d!==null)var A=!0;else{var F=n(u);F!==null&&ni(S,F.startTime-U),A=!1}return A}finally{d=null,f=_,w=!1}}var D=!1,M=null,N=-1,z=5,E=-1;function j(){return!(t.unstable_now()-E<z)}function J(){if(M!==null){var b=t.unstable_now();E=b;var U=!0;try{U=M(!0,b)}finally{U?te():(D=!1,M=null)}}else D=!1}var te;if(typeof p=="function")te=function(){p(J)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ti=ae.port2;ae.port1.onmessage=J,te=function(){ti.postMessage(null)}}else te=function(){T(J,0)};function or(b){M=b,D||(D=!0,te())}function ni(b,U){N=T(function(){b(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){v||w||(v=!0,or(P))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(b){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var _=f;f=U;try{return b()}finally{f=_}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,U){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var _=f;f=b;try{return U()}finally{f=_}},t.unstable_scheduleCallback=function(b,U,_){var m=t.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?m+_:m):_=m,b){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=_+I,b={id:c++,callback:U,priorityLevel:b,startTime:_,expirationTime:I,sortIndex:-1},_>m?(b.sortIndex=_,e(u,b),n(a)===null&&b===n(u)&&(x?(y(N),N=-1):x=!0,ni(S,_-m))):(b.sortIndex=I,e(a,b),v||w||(v=!0,or(P))),b},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(b){var U=f;return function(){var _=f;f=U;try{return b.apply(this,arguments)}finally{f=_}}}})(Vf);$f.exports=Vf;var ov=$f.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=B,ot=ov;function C(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hf=new Set,Di={};function er(t,e){Or(t,e),Or(t+"Capture",e)}function Or(t,e){for(Di[t]=e,t=0;t<e.length;t++)Hf.add(e[t])}var qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=Object.prototype.hasOwnProperty,av=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pd={},md={};function uv(t){return da.call(md,t)?!0:da.call(pd,t)?!1:av.test(t)?md[t]=!0:(pd[t]=!0,!1)}function cv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dv(t,e,n,r){if(e===null||typeof e>"u"||cv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ye(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Le={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Le[t]=new Ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Le[e]=new Ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Le[t]=new Ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Le[t]=new Ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Le[t]=new Ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Le[t]=new Ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Le[t]=new Ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Le[t]=new Ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Le[t]=new Ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var bu=/[\-:]([a-z])/g;function Ru(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bu,Ru);Le[e]=new Ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bu,Ru);Le[e]=new Ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bu,Ru);Le[e]=new Ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Le[t]=new Ye(t,1,!1,t.toLowerCase(),null,!1,!1)});Le.xlinkHref=new Ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Le[t]=new Ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mu(t,e,n,r){var i=Le.hasOwnProperty(e)?Le[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dv(e,n,i,r)&&(n=null),r||i===null?uv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var tn=lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ns=Symbol.for("react.element"),dr=Symbol.for("react.portal"),hr=Symbol.for("react.fragment"),Du=Symbol.for("react.strict_mode"),ha=Symbol.for("react.profiler"),Gf=Symbol.for("react.provider"),Yf=Symbol.for("react.context"),Ou=Symbol.for("react.forward_ref"),fa=Symbol.for("react.suspense"),pa=Symbol.for("react.suspense_list"),Au=Symbol.for("react.memo"),on=Symbol.for("react.lazy"),Qf=Symbol.for("react.offscreen"),gd=Symbol.iterator;function ri(t){return t===null||typeof t!="object"?null:(t=gd&&t[gd]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,Tl;function mi(t){if(Tl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tl=e&&e[1]||""}return`
`+Tl+t}var Il=!1;function Pl(t,e){if(!t||Il)return"";Il=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var a=`
`+i[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{Il=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mi(t):""}function hv(t){switch(t.tag){case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 2:case 15:return t=Pl(t.type,!1),t;case 11:return t=Pl(t.type.render,!1),t;case 1:return t=Pl(t.type,!0),t;default:return""}}function ma(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hr:return"Fragment";case dr:return"Portal";case ha:return"Profiler";case Du:return"StrictMode";case fa:return"Suspense";case pa:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yf:return(t.displayName||"Context")+".Consumer";case Gf:return(t._context.displayName||"Context")+".Provider";case Ou:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Au:return e=t.displayName||null,e!==null?e:ma(t.type)||"Memo";case on:e=t._payload,t=t._init;try{return ma(t(e))}catch{}}return null}function fv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ma(e);case 8:return e===Du?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pv(t){var e=qf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ts(t){t._valueTracker||(t._valueTracker=pv(t))}function Kf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function io(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ga(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=kn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xf(t,e){e=e.checked,e!=null&&Mu(t,"checked",e,!1)}function ya(t,e){Xf(t,e);var n=kn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?va(t,e.type,n):e.hasOwnProperty("defaultValue")&&va(t,e.type,kn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function va(t,e,n){(e!=="number"||io(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gi=Array.isArray;function Er(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+kn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _a(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(C(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _d(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(C(92));if(gi(n)){if(1<n.length)throw Error(C(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:kn(n)}}function Jf(t,e){var n=kn(e.value),r=kn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wa(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Is,ep=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Is=Is||document.createElement("div"),Is.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Is.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Oi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mv=["Webkit","ms","Moz","O"];Object.keys(_i).forEach(function(t){mv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_i[e]=_i[t]})});function tp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_i.hasOwnProperty(t)&&_i[t]?(""+e).trim():e+"px"}function np(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tp(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gv=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xa(t,e){if(e){if(gv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(C(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(C(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(C(61))}if(e.style!=null&&typeof e.style!="object")throw Error(C(62))}}function Sa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ca=null;function Lu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ea=null,kr=null,Nr=null;function xd(t){if(t=fs(t)){if(typeof Ea!="function")throw Error(C(280));var e=t.stateNode;e&&(e=el(e),Ea(t.stateNode,t.type,e))}}function rp(t){kr?Nr?Nr.push(t):Nr=[t]:kr=t}function ip(){if(kr){var t=kr,e=Nr;if(Nr=kr=null,xd(t),e)for(t=0;t<e.length;t++)xd(e[t])}}function sp(t,e){return t(e)}function op(){}var bl=!1;function lp(t,e,n){if(bl)return t(e,n);bl=!0;try{return sp(t,e,n)}finally{bl=!1,(kr!==null||Nr!==null)&&(op(),ip())}}function Ai(t,e){var n=t.stateNode;if(n===null)return null;var r=el(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(C(231,e,typeof n));return n}var ka=!1;if(qt)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){ka=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{ka=!1}function yv(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var wi=!1,so=null,oo=!1,Na=null,vv={onError:function(t){wi=!0,so=t}};function _v(t,e,n,r,i,s,o,l,a){wi=!1,so=null,yv.apply(vv,arguments)}function wv(t,e,n,r,i,s,o,l,a){if(_v.apply(this,arguments),wi){if(wi){var u=so;wi=!1,so=null}else throw Error(C(198));oo||(oo=!0,Na=u)}}function tr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ap(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sd(t){if(tr(t)!==t)throw Error(C(188))}function xv(t){var e=t.alternate;if(!e){if(e=tr(t),e===null)throw Error(C(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Sd(i),t;if(s===r)return Sd(i),e;s=s.sibling}throw Error(C(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?t:e}function up(t){return t=xv(t),t!==null?cp(t):null}function cp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cp(t);if(e!==null)return e;t=t.sibling}return null}var dp=ot.unstable_scheduleCallback,Cd=ot.unstable_cancelCallback,Sv=ot.unstable_shouldYield,Cv=ot.unstable_requestPaint,xe=ot.unstable_now,Ev=ot.unstable_getCurrentPriorityLevel,ju=ot.unstable_ImmediatePriority,hp=ot.unstable_UserBlockingPriority,lo=ot.unstable_NormalPriority,kv=ot.unstable_LowPriority,fp=ot.unstable_IdlePriority,Ko=null,jt=null;function Nv(t){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Ko,t,void 0,(t.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Pv,Tv=Math.log,Iv=Math.LN2;function Pv(t){return t>>>=0,t===0?32:31-(Tv(t)/Iv|0)|0}var Ps=64,bs=4194304;function yi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ao(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=yi(l):(s&=o,s!==0&&(r=yi(s)))}else o=n&~i,o!==0?r=yi(o):s!==0&&(r=yi(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-kt(e),i=1<<n,r|=t[n],e&=~i;return r}function bv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-kt(s),l=1<<o,a=i[o];a===-1?(!(l&n)||l&r)&&(i[o]=bv(l,e)):a<=e&&(t.expiredLanes|=l),s&=~l}}function Ta(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pp(){var t=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),t}function Rl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ds(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-kt(e),t[e]=n}function Mv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-kt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Fu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-kt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ee=0;function mp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gp,zu,yp,vp,_p,Ia=!1,Rs=[],fn=null,pn=null,mn=null,Li=new Map,ji=new Map,an=[],Dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ed(t,e){switch(t){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":Li.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ji.delete(e.pointerId)}}function si(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fs(e),e!==null&&zu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ov(t,e,n,r,i){switch(e){case"focusin":return fn=si(fn,t,e,n,r,i),!0;case"dragenter":return pn=si(pn,t,e,n,r,i),!0;case"mouseover":return mn=si(mn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Li.set(s,si(Li.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ji.set(s,si(ji.get(s)||null,t,e,n,r,i)),!0}return!1}function wp(t){var e=zn(t.target);if(e!==null){var n=tr(e);if(n!==null){if(e=n.tag,e===13){if(e=ap(n),e!==null){t.blockedOn=e,_p(t.priority,function(){yp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ys(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pa(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ca=r,n.target.dispatchEvent(r),Ca=null}else return e=fs(n),e!==null&&zu(e),t.blockedOn=n,!1;e.shift()}return!0}function kd(t,e,n){Ys(t)&&n.delete(e)}function Av(){Ia=!1,fn!==null&&Ys(fn)&&(fn=null),pn!==null&&Ys(pn)&&(pn=null),mn!==null&&Ys(mn)&&(mn=null),Li.forEach(kd),ji.forEach(kd)}function oi(t,e){t.blockedOn===e&&(t.blockedOn=null,Ia||(Ia=!0,ot.unstable_scheduleCallback(ot.unstable_NormalPriority,Av)))}function Fi(t){function e(i){return oi(i,t)}if(0<Rs.length){oi(Rs[0],t);for(var n=1;n<Rs.length;n++){var r=Rs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fn!==null&&oi(fn,t),pn!==null&&oi(pn,t),mn!==null&&oi(mn,t),Li.forEach(e),ji.forEach(e),n=0;n<an.length;n++)r=an[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)wp(n),n.blockedOn===null&&an.shift()}var Tr=tn.ReactCurrentBatchConfig,uo=!0;function Lv(t,e,n,r){var i=ee,s=Tr.transition;Tr.transition=null;try{ee=1,Wu(t,e,n,r)}finally{ee=i,Tr.transition=s}}function jv(t,e,n,r){var i=ee,s=Tr.transition;Tr.transition=null;try{ee=4,Wu(t,e,n,r)}finally{ee=i,Tr.transition=s}}function Wu(t,e,n,r){if(uo){var i=Pa(t,e,n,r);if(i===null)Ul(t,e,r,co,n),Ed(t,r);else if(Ov(i,t,e,n,r))r.stopPropagation();else if(Ed(t,r),e&4&&-1<Dv.indexOf(t)){for(;i!==null;){var s=fs(i);if(s!==null&&gp(s),s=Pa(t,e,n,r),s===null&&Ul(t,e,r,co,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ul(t,e,r,null,n)}}var co=null;function Pa(t,e,n,r){if(co=null,t=Lu(r),t=zn(t),t!==null)if(e=tr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ap(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return co=t,null}function xp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ev()){case ju:return 1;case hp:return 4;case lo:case kv:return 16;case fp:return 536870912;default:return 16}default:return 16}}var cn=null,Uu=null,Qs=null;function Sp(){if(Qs)return Qs;var t,e=Uu,n=e.length,r,i="value"in cn?cn.value:cn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Qs=i.slice(t,1<r?1-r:void 0)}function qs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ms(){return!0}function Nd(){return!1}function at(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ms:Nd,this.isPropagationStopped=Nd,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),e}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bu=at(Qr),hs=me({},Qr,{view:0,detail:0}),Fv=at(hs),Ml,Dl,li,Xo=me({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$u,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Ml=t.screenX-li.screenX,Dl=t.screenY-li.screenY):Dl=Ml=0,li=t),Ml)},movementY:function(t){return"movementY"in t?t.movementY:Dl}}),Td=at(Xo),zv=me({},Xo,{dataTransfer:0}),Wv=at(zv),Uv=me({},hs,{relatedTarget:0}),Ol=at(Uv),Bv=me({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),$v=at(Bv),Vv=me({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Hv=at(Vv),Gv=me({},Qr,{data:0}),Id=at(Gv),Yv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qv[t])?!!e[t]:!1}function $u(){return Kv}var Xv=me({},hs,{key:function(t){if(t.key){var e=Yv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$u,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Jv=at(Xv),Zv=me({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=at(Zv),e0=me({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$u}),t0=at(e0),n0=me({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),r0=at(n0),i0=me({},Xo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s0=at(i0),o0=[9,13,27,32],Vu=qt&&"CompositionEvent"in window,xi=null;qt&&"documentMode"in document&&(xi=document.documentMode);var l0=qt&&"TextEvent"in window&&!xi,Cp=qt&&(!Vu||xi&&8<xi&&11>=xi),bd=" ",Rd=!1;function Ep(t,e){switch(t){case"keyup":return o0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fr=!1;function a0(t,e){switch(t){case"compositionend":return kp(e);case"keypress":return e.which!==32?null:(Rd=!0,bd);case"textInput":return t=e.data,t===bd&&Rd?null:t;default:return null}}function u0(t,e){if(fr)return t==="compositionend"||!Vu&&Ep(t,e)?(t=Sp(),Qs=Uu=cn=null,fr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cp&&e.locale!=="ko"?null:e.data;default:return null}}var c0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Md(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c0[t.type]:e==="textarea"}function Np(t,e,n,r){rp(r),e=ho(e,"onChange"),0<e.length&&(n=new Bu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Si=null,zi=null;function d0(t){jp(t,0)}function Jo(t){var e=gr(t);if(Kf(e))return t}function h0(t,e){if(t==="change")return e}var Tp=!1;if(qt){var Al;if(qt){var Ll="oninput"in document;if(!Ll){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),Ll=typeof Dd.oninput=="function"}Al=Ll}else Al=!1;Tp=Al&&(!document.documentMode||9<document.documentMode)}function Od(){Si&&(Si.detachEvent("onpropertychange",Ip),zi=Si=null)}function Ip(t){if(t.propertyName==="value"&&Jo(zi)){var e=[];Np(e,zi,t,Lu(t)),lp(d0,e)}}function f0(t,e,n){t==="focusin"?(Od(),Si=e,zi=n,Si.attachEvent("onpropertychange",Ip)):t==="focusout"&&Od()}function p0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jo(zi)}function m0(t,e){if(t==="click")return Jo(e)}function g0(t,e){if(t==="input"||t==="change")return Jo(e)}function y0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var It=typeof Object.is=="function"?Object.is:y0;function Wi(t,e){if(It(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!da.call(e,i)||!It(t[i],e[i]))return!1}return!0}function Ad(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ld(t,e){var n=Ad(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ad(n)}}function Pp(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pp(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bp(){for(var t=window,e=io();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=io(t.document)}return e}function Hu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function v0(t){var e=bp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pp(n.ownerDocument.documentElement,n)){if(r!==null&&Hu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ld(n,s);var o=Ld(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _0=qt&&"documentMode"in document&&11>=document.documentMode,pr=null,ba=null,Ci=null,Ra=!1;function jd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ra||pr==null||pr!==io(r)||(r=pr,"selectionStart"in r&&Hu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ci&&Wi(Ci,r)||(Ci=r,r=ho(ba,"onSelect"),0<r.length&&(e=new Bu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pr)))}function Ds(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mr={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionend:Ds("Transition","TransitionEnd")},jl={},Rp={};qt&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete mr.animationend.animation,delete mr.animationiteration.animation,delete mr.animationstart.animation),"TransitionEvent"in window||delete mr.transitionend.transition);function Zo(t){if(jl[t])return jl[t];if(!mr[t])return t;var e=mr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Rp)return jl[t]=e[n];return t}var Mp=Zo("animationend"),Dp=Zo("animationiteration"),Op=Zo("animationstart"),Ap=Zo("transitionend"),Lp=new Map,Fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bn(t,e){Lp.set(t,e),er(e,[t])}for(var Fl=0;Fl<Fd.length;Fl++){var zl=Fd[Fl],w0=zl.toLowerCase(),x0=zl[0].toUpperCase()+zl.slice(1);bn(w0,"on"+x0)}bn(Mp,"onAnimationEnd");bn(Dp,"onAnimationIteration");bn(Op,"onAnimationStart");bn("dblclick","onDoubleClick");bn("focusin","onFocus");bn("focusout","onBlur");bn(Ap,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));er("onBeforeInput",["compositionend","keypress","textInput","paste"]);er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),S0=new Set("cancel close invalid load scroll toggle".split(" ").concat(vi));function zd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wv(r,e,void 0,t),t.currentTarget=null}function jp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;zd(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;zd(i,l,u),s=a}}}if(oo)throw t=Na,oo=!1,Na=null,t}function ce(t,e){var n=e[La];n===void 0&&(n=e[La]=new Set);var r=t+"__bubble";n.has(r)||(Fp(e,t,2,!1),n.add(r))}function Wl(t,e,n){var r=0;e&&(r|=4),Fp(n,t,r,e)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Ui(t){if(!t[Os]){t[Os]=!0,Hf.forEach(function(n){n!=="selectionchange"&&(S0.has(n)||Wl(n,!1,t),Wl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Os]||(e[Os]=!0,Wl("selectionchange",!1,e))}}function Fp(t,e,n,r){switch(xp(e)){case 1:var i=Lv;break;case 4:i=jv;break;default:i=Wu}n=i.bind(null,e,n,t),i=void 0,!ka||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ul(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=zn(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}lp(function(){var u=s,c=Lu(n),d=[];e:{var f=Lp.get(t);if(f!==void 0){var w=Bu,v=t;switch(t){case"keypress":if(qs(n)===0)break e;case"keydown":case"keyup":w=Jv;break;case"focusin":v="focus",w=Ol;break;case"focusout":v="blur",w=Ol;break;case"beforeblur":case"afterblur":w=Ol;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=Wv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=t0;break;case Mp:case Dp:case Op:w=$v;break;case Ap:w=r0;break;case"scroll":w=Fv;break;case"wheel":w=s0;break;case"copy":case"cut":case"paste":w=Hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Pd}var x=(e&4)!==0,T=!x&&t==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var p=u,g;p!==null;){g=p;var S=g.stateNode;if(g.tag===5&&S!==null&&(g=S,y!==null&&(S=Ai(p,y),S!=null&&x.push(Bi(p,S,g)))),T)break;p=p.return}0<x.length&&(f=new w(f,v,null,n,c),d.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",f&&n!==Ca&&(v=n.relatedTarget||n.fromElement)&&(zn(v)||v[Kt]))break e;if((w||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,w?(v=n.relatedTarget||n.toElement,w=u,v=v?zn(v):null,v!==null&&(T=tr(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=u),w!==v)){if(x=Td,S="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=Pd,S="onPointerLeave",y="onPointerEnter",p="pointer"),T=w==null?f:gr(w),g=v==null?f:gr(v),f=new x(S,p+"leave",w,n,c),f.target=T,f.relatedTarget=g,S=null,zn(c)===u&&(x=new x(y,p+"enter",v,n,c),x.target=g,x.relatedTarget=T,S=x),T=S,w&&v)t:{for(x=w,y=v,p=0,g=x;g;g=lr(g))p++;for(g=0,S=y;S;S=lr(S))g++;for(;0<p-g;)x=lr(x),p--;for(;0<g-p;)y=lr(y),g--;for(;p--;){if(x===y||y!==null&&x===y.alternate)break t;x=lr(x),y=lr(y)}x=null}else x=null;w!==null&&Wd(d,f,w,x,!1),v!==null&&T!==null&&Wd(d,T,v,x,!0)}}e:{if(f=u?gr(u):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var P=h0;else if(Md(f))if(Tp)P=g0;else{P=p0;var D=f0}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(P=m0);if(P&&(P=P(t,u))){Np(d,P,n,c);break e}D&&D(t,f,u),t==="focusout"&&(D=f._wrapperState)&&D.controlled&&f.type==="number"&&va(f,"number",f.value)}switch(D=u?gr(u):window,t){case"focusin":(Md(D)||D.contentEditable==="true")&&(pr=D,ba=u,Ci=null);break;case"focusout":Ci=ba=pr=null;break;case"mousedown":Ra=!0;break;case"contextmenu":case"mouseup":case"dragend":Ra=!1,jd(d,n,c);break;case"selectionchange":if(_0)break;case"keydown":case"keyup":jd(d,n,c)}var M;if(Vu)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else fr?Ep(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Cp&&n.locale!=="ko"&&(fr||N!=="onCompositionStart"?N==="onCompositionEnd"&&fr&&(M=Sp()):(cn=c,Uu="value"in cn?cn.value:cn.textContent,fr=!0)),D=ho(u,N),0<D.length&&(N=new Id(N,t,null,n,c),d.push({event:N,listeners:D}),M?N.data=M:(M=kp(n),M!==null&&(N.data=M)))),(M=l0?a0(t,n):u0(t,n))&&(u=ho(u,"onBeforeInput"),0<u.length&&(c=new Id("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=M))}jp(d,e)})}function Bi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ho(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ai(t,n),s!=null&&r.unshift(Bi(t,s,i)),s=Ai(t,e),s!=null&&r.push(Bi(t,s,i))),t=t.return}return r}function lr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wd(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ai(n,s),a!=null&&o.unshift(Bi(n,a,l))):i||(a=Ai(n,s),a!=null&&o.push(Bi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var C0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function Ud(t){return(typeof t=="string"?t:""+t).replace(C0,`
`).replace(E0,"")}function As(t,e,n){if(e=Ud(e),Ud(t)!==e&&n)throw Error(C(425))}function fo(){}var Ma=null,Da=null;function Oa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Aa=typeof setTimeout=="function"?setTimeout:void 0,k0=typeof clearTimeout=="function"?clearTimeout:void 0,Bd=typeof Promise=="function"?Promise:void 0,N0=typeof queueMicrotask=="function"?queueMicrotask:typeof Bd<"u"?function(t){return Bd.resolve(null).then(t).catch(T0)}:Aa;function T0(t){setTimeout(function(){throw t})}function Bl(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Fi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Fi(e)}function gn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $d(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var qr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+qr,$i="__reactProps$"+qr,Kt="__reactContainer$"+qr,La="__reactEvents$"+qr,I0="__reactListeners$"+qr,P0="__reactHandles$"+qr;function zn(t){var e=t[Ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Kt]||n[Ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$d(t);t!==null;){if(n=t[Ot])return n;t=$d(t)}return e}t=n,n=t.parentNode}return null}function fs(t){return t=t[Ot]||t[Kt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(C(33))}function el(t){return t[$i]||null}var ja=[],yr=-1;function Rn(t){return{current:t}}function de(t){0>yr||(t.current=ja[yr],ja[yr]=null,yr--)}function le(t,e){yr++,ja[yr]=t.current,t.current=e}var Nn={},Ue=Rn(Nn),Je=Rn(!1),Hn=Nn;function Ar(t,e){var n=t.type.contextTypes;if(!n)return Nn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ze(t){return t=t.childContextTypes,t!=null}function po(){de(Je),de(Ue)}function Vd(t,e,n){if(Ue.current!==Nn)throw Error(C(168));le(Ue,e),le(Je,n)}function zp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(C(108,fv(t)||"Unknown",i));return me({},n,r)}function mo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nn,Hn=Ue.current,le(Ue,t),le(Je,Je.current),!0}function Hd(t,e,n){var r=t.stateNode;if(!r)throw Error(C(169));n?(t=zp(t,e,Hn),r.__reactInternalMemoizedMergedChildContext=t,de(Je),de(Ue),le(Ue,t)):de(Je),le(Je,n)}var Bt=null,tl=!1,$l=!1;function Wp(t){Bt===null?Bt=[t]:Bt.push(t)}function b0(t){tl=!0,Wp(t)}function Mn(){if(!$l&&Bt!==null){$l=!0;var t=0,e=ee;try{var n=Bt;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bt=null,tl=!1}catch(i){throw Bt!==null&&(Bt=Bt.slice(t+1)),dp(ju,Mn),i}finally{ee=e,$l=!1}}return null}var vr=[],_r=0,go=null,yo=0,ut=[],ct=0,Gn=null,$t=1,Vt="";function On(t,e){vr[_r++]=yo,vr[_r++]=go,go=t,yo=e}function Up(t,e,n){ut[ct++]=$t,ut[ct++]=Vt,ut[ct++]=Gn,Gn=t;var r=$t;t=Vt;var i=32-kt(r)-1;r&=~(1<<i),n+=1;var s=32-kt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$t=1<<32-kt(e)+i|n<<i|r,Vt=s+t}else $t=1<<s|n<<i|r,Vt=t}function Gu(t){t.return!==null&&(On(t,1),Up(t,1,0))}function Yu(t){for(;t===go;)go=vr[--_r],vr[_r]=null,yo=vr[--_r],vr[_r]=null;for(;t===Gn;)Gn=ut[--ct],ut[ct]=null,Vt=ut[--ct],ut[ct]=null,$t=ut[--ct],ut[ct]=null}var st=null,it=null,he=!1,St=null;function Bp(t,e){var n=dt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,st=t,it=gn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,st=t,it=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Gn!==null?{id:$t,overflow:Vt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=dt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,st=t,it=null,!0):!1;default:return!1}}function Fa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function za(t){if(he){var e=it;if(e){var n=e;if(!Gd(t,e)){if(Fa(t))throw Error(C(418));e=gn(n.nextSibling);var r=st;e&&Gd(t,e)?Bp(r,n):(t.flags=t.flags&-4097|2,he=!1,st=t)}}else{if(Fa(t))throw Error(C(418));t.flags=t.flags&-4097|2,he=!1,st=t}}}function Yd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;st=t}function Ls(t){if(t!==st)return!1;if(!he)return Yd(t),he=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Oa(t.type,t.memoizedProps)),e&&(e=it)){if(Fa(t))throw $p(),Error(C(418));for(;e;)Bp(t,e),e=gn(e.nextSibling)}if(Yd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(C(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){it=gn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}it=null}}else it=st?gn(t.stateNode.nextSibling):null;return!0}function $p(){for(var t=it;t;)t=gn(t.nextSibling)}function Lr(){it=st=null,he=!1}function Qu(t){St===null?St=[t]:St.push(t)}var R0=tn.ReactCurrentBatchConfig;function ai(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,t))}return t}function js(t,e){throw t=Object.prototype.toString.call(e),Error(C(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qd(t){var e=t._init;return e(t._payload)}function Vp(t){function e(y,p){if(t){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function i(y,p){return y=wn(y,p),y.index=0,y.sibling=null,y}function s(y,p,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,p,g,S){return p===null||p.tag!==6?(p=Kl(g,y.mode,S),p.return=y,p):(p=i(p,g),p.return=y,p)}function a(y,p,g,S){var P=g.type;return P===hr?c(y,p,g.props.children,S,g.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===on&&Qd(P)===p.type)?(S=i(p,g.props),S.ref=ai(y,p,g),S.return=y,S):(S=no(g.type,g.key,g.props,null,y.mode,S),S.ref=ai(y,p,g),S.return=y,S)}function u(y,p,g,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Xl(g,y.mode,S),p.return=y,p):(p=i(p,g.children||[]),p.return=y,p)}function c(y,p,g,S,P){return p===null||p.tag!==7?(p=Vn(g,y.mode,S,P),p.return=y,p):(p=i(p,g),p.return=y,p)}function d(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Kl(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ns:return g=no(p.type,p.key,p.props,null,y.mode,g),g.ref=ai(y,null,p),g.return=y,g;case dr:return p=Xl(p,y.mode,g),p.return=y,p;case on:var S=p._init;return d(y,S(p._payload),g)}if(gi(p)||ri(p))return p=Vn(p,y.mode,g,null),p.return=y,p;js(y,p)}return null}function f(y,p,g,S){var P=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return P!==null?null:l(y,p,""+g,S);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ns:return g.key===P?a(y,p,g,S):null;case dr:return g.key===P?u(y,p,g,S):null;case on:return P=g._init,f(y,p,P(g._payload),S)}if(gi(g)||ri(g))return P!==null?null:c(y,p,g,S,null);js(y,g)}return null}function w(y,p,g,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(g)||null,l(p,y,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ns:return y=y.get(S.key===null?g:S.key)||null,a(p,y,S,P);case dr:return y=y.get(S.key===null?g:S.key)||null,u(p,y,S,P);case on:var D=S._init;return w(y,p,g,D(S._payload),P)}if(gi(S)||ri(S))return y=y.get(g)||null,c(p,y,S,P,null);js(p,S)}return null}function v(y,p,g,S){for(var P=null,D=null,M=p,N=p=0,z=null;M!==null&&N<g.length;N++){M.index>N?(z=M,M=null):z=M.sibling;var E=f(y,M,g[N],S);if(E===null){M===null&&(M=z);break}t&&M&&E.alternate===null&&e(y,M),p=s(E,p,N),D===null?P=E:D.sibling=E,D=E,M=z}if(N===g.length)return n(y,M),he&&On(y,N),P;if(M===null){for(;N<g.length;N++)M=d(y,g[N],S),M!==null&&(p=s(M,p,N),D===null?P=M:D.sibling=M,D=M);return he&&On(y,N),P}for(M=r(y,M);N<g.length;N++)z=w(M,y,N,g[N],S),z!==null&&(t&&z.alternate!==null&&M.delete(z.key===null?N:z.key),p=s(z,p,N),D===null?P=z:D.sibling=z,D=z);return t&&M.forEach(function(j){return e(y,j)}),he&&On(y,N),P}function x(y,p,g,S){var P=ri(g);if(typeof P!="function")throw Error(C(150));if(g=P.call(g),g==null)throw Error(C(151));for(var D=P=null,M=p,N=p=0,z=null,E=g.next();M!==null&&!E.done;N++,E=g.next()){M.index>N?(z=M,M=null):z=M.sibling;var j=f(y,M,E.value,S);if(j===null){M===null&&(M=z);break}t&&M&&j.alternate===null&&e(y,M),p=s(j,p,N),D===null?P=j:D.sibling=j,D=j,M=z}if(E.done)return n(y,M),he&&On(y,N),P;if(M===null){for(;!E.done;N++,E=g.next())E=d(y,E.value,S),E!==null&&(p=s(E,p,N),D===null?P=E:D.sibling=E,D=E);return he&&On(y,N),P}for(M=r(y,M);!E.done;N++,E=g.next())E=w(M,y,N,E.value,S),E!==null&&(t&&E.alternate!==null&&M.delete(E.key===null?N:E.key),p=s(E,p,N),D===null?P=E:D.sibling=E,D=E);return t&&M.forEach(function(J){return e(y,J)}),he&&On(y,N),P}function T(y,p,g,S){if(typeof g=="object"&&g!==null&&g.type===hr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ns:e:{for(var P=g.key,D=p;D!==null;){if(D.key===P){if(P=g.type,P===hr){if(D.tag===7){n(y,D.sibling),p=i(D,g.props.children),p.return=y,y=p;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===on&&Qd(P)===D.type){n(y,D.sibling),p=i(D,g.props),p.ref=ai(y,D,g),p.return=y,y=p;break e}n(y,D);break}else e(y,D);D=D.sibling}g.type===hr?(p=Vn(g.props.children,y.mode,S,g.key),p.return=y,y=p):(S=no(g.type,g.key,g.props,null,y.mode,S),S.ref=ai(y,p,g),S.return=y,y=S)}return o(y);case dr:e:{for(D=g.key;p!==null;){if(p.key===D)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(y,p.sibling),p=i(p,g.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=Xl(g,y.mode,S),p.return=y,y=p}return o(y);case on:return D=g._init,T(y,p,D(g._payload),S)}if(gi(g))return v(y,p,g,S);if(ri(g))return x(y,p,g,S);js(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(y,p.sibling),p=i(p,g),p.return=y,y=p):(n(y,p),p=Kl(g,y.mode,S),p.return=y,y=p),o(y)):n(y,p)}return T}var jr=Vp(!0),Hp=Vp(!1),vo=Rn(null),_o=null,wr=null,qu=null;function Ku(){qu=wr=_o=null}function Xu(t){var e=vo.current;de(vo),t._currentValue=e}function Wa(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ir(t,e){_o=t,qu=wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ke=!0),t.firstContext=null)}function pt(t){var e=t._currentValue;if(qu!==t)if(t={context:t,memoizedValue:e,next:null},wr===null){if(_o===null)throw Error(C(308));wr=t,_o.dependencies={lanes:0,firstContext:t}}else wr=wr.next=t;return e}var Wn=null;function Ju(t){Wn===null?Wn=[t]:Wn.push(t)}function Gp(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ju(e)):(n.next=i.next,i.next=n),e.interleaved=n,Xt(t,r)}function Xt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ln=!1;function Zu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,K&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Xt(t,n)}return i=r.interleaved,i===null?(e.next=e,Ju(r)):(e.next=i.next,i.next=e),r.interleaved=e,Xt(t,n)}function Ks(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fu(t,n)}}function qd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wo(t,e,n,r){var i=t.updateQueue;ln=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(s!==null){var d=i.baseState;o=0,c=u=a=null,l=s;do{var f=l.lane,w=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:w,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(f=e,w=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(w,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(w,d,f):v,f==null)break e;d=me({},d,f);break e;case 2:ln=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else w={eventTime:w,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=w,a=d):c=c.next=w,o|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qn|=o,t.lanes=o,t.memoizedState=d}}function Kd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(C(191,i));i.call(r)}}}var ps={},Ft=Rn(ps),Vi=Rn(ps),Hi=Rn(ps);function Un(t){if(t===ps)throw Error(C(174));return t}function ec(t,e){switch(le(Hi,e),le(Vi,t),le(Ft,ps),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wa(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wa(e,t)}de(Ft),le(Ft,e)}function Fr(){de(Ft),de(Vi),de(Hi)}function Qp(t){Un(Hi.current);var e=Un(Ft.current),n=wa(e,t.type);e!==n&&(le(Vi,t),le(Ft,n))}function tc(t){Vi.current===t&&(de(Ft),de(Vi))}var fe=Rn(0);function xo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vl=[];function nc(){for(var t=0;t<Vl.length;t++)Vl[t]._workInProgressVersionPrimary=null;Vl.length=0}var Xs=tn.ReactCurrentDispatcher,Hl=tn.ReactCurrentBatchConfig,Yn=0,pe=null,Ee=null,Pe=null,So=!1,Ei=!1,Gi=0,M0=0;function Fe(){throw Error(C(321))}function rc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!It(t[n],e[n]))return!1;return!0}function ic(t,e,n,r,i,s){if(Yn=s,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xs.current=t===null||t.memoizedState===null?L0:j0,t=n(r,i),Ei){s=0;do{if(Ei=!1,Gi=0,25<=s)throw Error(C(301));s+=1,Pe=Ee=null,e.updateQueue=null,Xs.current=F0,t=n(r,i)}while(Ei)}if(Xs.current=Co,e=Ee!==null&&Ee.next!==null,Yn=0,Pe=Ee=pe=null,So=!1,e)throw Error(C(300));return t}function sc(){var t=Gi!==0;return Gi=0,t}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?pe.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function mt(){if(Ee===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Pe===null?pe.memoizedState:Pe.next;if(e!==null)Pe=e,Ee=t;else{if(t===null)throw Error(C(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Pe===null?pe.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function Yi(t,e){return typeof e=="function"?e(t):e}function Gl(t){var e=mt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=Ee,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,a=null,u=s;do{var c=u.lane;if((Yn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,o=r):a=a.next=d,pe.lanes|=c,Qn|=c}u=u.next}while(u!==null&&u!==s);a===null?o=r:a.next=l,It(r,e.memoizedState)||(Ke=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pe.lanes|=s,Qn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yl(t){var e=mt(),n=e.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);It(s,e.memoizedState)||(Ke=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qp(){}function Kp(t,e){var n=pe,r=mt(),i=e(),s=!It(r.memoizedState,i);if(s&&(r.memoizedState=i,Ke=!0),r=r.queue,oc(Zp.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,Qi(9,Jp.bind(null,n,r,i,e),void 0,null),Re===null)throw Error(C(349));Yn&30||Xp(n,e,i)}return i}function Xp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jp(t,e,n,r){e.value=n,e.getSnapshot=r,em(e)&&tm(t)}function Zp(t,e,n){return n(function(){em(e)&&tm(t)})}function em(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!It(t,n)}catch{return!0}}function tm(t){var e=Xt(t,1);e!==null&&Nt(e,t,1,-1)}function Xd(t){var e=Dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},e.queue=t,t=t.dispatch=A0.bind(null,pe,t),[e.memoizedState,t]}function Qi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nm(){return mt().memoizedState}function Js(t,e,n,r){var i=Dt();pe.flags|=t,i.memoizedState=Qi(1|e,n,void 0,r===void 0?null:r)}function nl(t,e,n,r){var i=mt();r=r===void 0?null:r;var s=void 0;if(Ee!==null){var o=Ee.memoizedState;if(s=o.destroy,r!==null&&rc(r,o.deps)){i.memoizedState=Qi(e,n,s,r);return}}pe.flags|=t,i.memoizedState=Qi(1|e,n,s,r)}function Jd(t,e){return Js(8390656,8,t,e)}function oc(t,e){return nl(2048,8,t,e)}function rm(t,e){return nl(4,2,t,e)}function im(t,e){return nl(4,4,t,e)}function sm(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function om(t,e,n){return n=n!=null?n.concat([t]):null,nl(4,4,sm.bind(null,e,t),n)}function lc(){}function lm(t,e){var n=mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function am(t,e){var n=mt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&rc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function um(t,e,n){return Yn&21?(It(n,e)||(n=pp(),pe.lanes|=n,Qn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ke=!0),t.memoizedState=n)}function D0(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=Hl.transition;Hl.transition={};try{t(!1),e()}finally{ee=n,Hl.transition=r}}function cm(){return mt().memoizedState}function O0(t,e,n){var r=_n(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dm(t))hm(e,n);else if(n=Gp(t,e,n,r),n!==null){var i=Ve();Nt(n,t,r,i),fm(n,e,r)}}function A0(t,e,n){var r=_n(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dm(t))hm(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,It(l,o)){var a=e.interleaved;a===null?(i.next=i,Ju(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=Gp(t,e,i,r),n!==null&&(i=Ve(),Nt(n,t,r,i),fm(n,e,r))}}function dm(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function hm(t,e){Ei=So=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fu(t,n)}}var Co={readContext:pt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},L0={readContext:pt,useCallback:function(t,e){return Dt().memoizedState=[t,e===void 0?null:e],t},useContext:pt,useEffect:Jd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Js(4194308,4,sm.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Js(4194308,4,t,e)},useInsertionEffect:function(t,e){return Js(4,2,t,e)},useMemo:function(t,e){var n=Dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=O0.bind(null,pe,t),[r.memoizedState,t]},useRef:function(t){var e=Dt();return t={current:t},e.memoizedState=t},useState:Xd,useDebugValue:lc,useDeferredValue:function(t){return Dt().memoizedState=t},useTransition:function(){var t=Xd(!1),e=t[0];return t=D0.bind(null,t[1]),Dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pe,i=Dt();if(he){if(n===void 0)throw Error(C(407));n=n()}else{if(n=e(),Re===null)throw Error(C(349));Yn&30||Xp(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Jd(Zp.bind(null,r,s,t),[t]),r.flags|=2048,Qi(9,Jp.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Dt(),e=Re.identifierPrefix;if(he){var n=Vt,r=$t;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},j0={readContext:pt,useCallback:lm,useContext:pt,useEffect:oc,useImperativeHandle:om,useInsertionEffect:rm,useLayoutEffect:im,useMemo:am,useReducer:Gl,useRef:nm,useState:function(){return Gl(Yi)},useDebugValue:lc,useDeferredValue:function(t){var e=mt();return um(e,Ee.memoizedState,t)},useTransition:function(){var t=Gl(Yi)[0],e=mt().memoizedState;return[t,e]},useMutableSource:qp,useSyncExternalStore:Kp,useId:cm,unstable_isNewReconciler:!1},F0={readContext:pt,useCallback:lm,useContext:pt,useEffect:oc,useImperativeHandle:om,useInsertionEffect:rm,useLayoutEffect:im,useMemo:am,useReducer:Yl,useRef:nm,useState:function(){return Yl(Yi)},useDebugValue:lc,useDeferredValue:function(t){var e=mt();return Ee===null?e.memoizedState=t:um(e,Ee.memoizedState,t)},useTransition:function(){var t=Yl(Yi)[0],e=mt().memoizedState;return[t,e]},useMutableSource:qp,useSyncExternalStore:Kp,useId:cm,unstable_isNewReconciler:!1};function wt(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ua(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rl={isMounted:function(t){return(t=t._reactInternals)?tr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ve(),i=_n(t),s=Gt(r,i);s.payload=e,n!=null&&(s.callback=n),e=yn(t,s,i),e!==null&&(Nt(e,t,i,r),Ks(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ve(),i=_n(t),s=Gt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=yn(t,s,i),e!==null&&(Nt(e,t,i,r),Ks(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ve(),r=_n(t),i=Gt(n,r);i.tag=2,e!=null&&(i.callback=e),e=yn(t,i,r),e!==null&&(Nt(e,t,r,n),Ks(e,t,r))}};function Zd(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wi(n,r)||!Wi(i,s):!0}function pm(t,e,n){var r=!1,i=Nn,s=e.contextType;return typeof s=="object"&&s!==null?s=pt(s):(i=Ze(e)?Hn:Ue.current,r=e.contextTypes,s=(r=r!=null)?Ar(t,i):Nn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function eh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rl.enqueueReplaceState(e,e.state,null)}function Ba(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Zu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=pt(s):(s=Ze(e)?Hn:Ue.current,i.context=Ar(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ua(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rl.enqueueReplaceState(i,i.state,null),wo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zr(t,e){try{var n="",r=e;do n+=hv(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ql(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function $a(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var z0=typeof WeakMap=="function"?WeakMap:Map;function mm(t,e,n){n=Gt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ko||(ko=!0,Za=r),$a(t,e)},n}function gm(t,e,n){n=Gt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$a(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){$a(t,e),typeof r!="function"&&(vn===null?vn=new Set([this]):vn.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function th(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new z0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Z0.bind(null,t,e,n),e.then(t,t))}function nh(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rh(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gt(-1,1),e.tag=2,yn(n,e,1))),n.lanes|=1),t)}var W0=tn.ReactCurrentOwner,Ke=!1;function Be(t,e,n,r){e.child=t===null?Hp(e,null,n,r):jr(e,t.child,n,r)}function ih(t,e,n,r,i){n=n.render;var s=e.ref;return Ir(e,i),r=ic(t,e,n,r,s,i),n=sc(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jt(t,e,i)):(he&&n&&Gu(e),e.flags|=1,Be(t,e,r,i),e.child)}function sh(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!mc(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,ym(t,e,s,r,i)):(t=no(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wi,n(o,r)&&t.ref===e.ref)return Jt(t,e,i)}return e.flags|=1,t=wn(s,r),t.ref=e.ref,t.return=e,e.child=t}function ym(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Wi(s,r)&&t.ref===e.ref)if(Ke=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ke=!0);else return e.lanes=t.lanes,Jt(t,e,i)}return Va(t,e,n,r,i)}function vm(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Sr,rt),rt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(Sr,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,le(Sr,rt),rt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,le(Sr,rt),rt|=r;return Be(t,e,i,n),e.child}function _m(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Va(t,e,n,r,i){var s=Ze(n)?Hn:Ue.current;return s=Ar(e,s),Ir(e,i),n=ic(t,e,n,r,s,i),r=sc(),t!==null&&!Ke?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Jt(t,e,i)):(he&&r&&Gu(e),e.flags|=1,Be(t,e,n,i),e.child)}function oh(t,e,n,r,i){if(Ze(n)){var s=!0;mo(e)}else s=!1;if(Ir(e,i),e.stateNode===null)Zs(t,e),pm(e,n,r),Ba(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=pt(u):(u=Ze(n)?Hn:Ue.current,u=Ar(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&eh(e,o,r,u),ln=!1;var f=e.memoizedState;o.state=f,wo(e,r,o,i),a=e.memoizedState,l!==r||f!==a||Je.current||ln?(typeof c=="function"&&(Ua(e,n,c,r),a=e.memoizedState),(l=ln||Zd(e,n,l,r,f,a,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Yp(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:wt(e.type,l),o.props=u,d=e.pendingProps,f=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=pt(a):(a=Ze(n)?Hn:Ue.current,a=Ar(e,a));var w=n.getDerivedStateFromProps;(c=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||f!==a)&&eh(e,o,r,a),ln=!1,f=e.memoizedState,o.state=f,wo(e,r,o,i);var v=e.memoizedState;l!==d||f!==v||Je.current||ln?(typeof w=="function"&&(Ua(e,n,w,r),v=e.memoizedState),(u=ln||Zd(e,n,u,r,f,v,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ha(t,e,n,r,s,i)}function Ha(t,e,n,r,i,s){_m(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Hd(e,n,!1),Jt(t,e,s);r=e.stateNode,W0.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=jr(e,t.child,null,s),e.child=jr(e,null,l,s)):Be(t,e,l,s),e.memoizedState=r.state,i&&Hd(e,n,!0),e.child}function wm(t){var e=t.stateNode;e.pendingContext?Vd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vd(t,e.context,!1),ec(t,e.containerInfo)}function lh(t,e,n,r,i){return Lr(),Qu(i),e.flags|=256,Be(t,e,n,r),e.child}var Ga={dehydrated:null,treeContext:null,retryLane:0};function Ya(t){return{baseLanes:t,cachePool:null,transitions:null}}function xm(t,e,n){var r=e.pendingProps,i=fe.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),le(fe,i&1),t===null)return za(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ol(o,r,0,null),t=Vn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ya(n),e.memoizedState=Ga,t):ac(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return U0(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=wn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=wn(l,s):(s=Vn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ya(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ga,r}return s=t.child,t=s.sibling,r=wn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ac(t,e){return e=ol({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fs(t,e,n,r){return r!==null&&Qu(r),jr(e,t.child,null,n),t=ac(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function U0(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ql(Error(C(422))),Fs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ol({mode:"visible",children:r.children},i,0,null),s=Vn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&jr(e,t.child,null,o),e.child.memoizedState=Ya(o),e.memoizedState=Ga,s);if(!(e.mode&1))return Fs(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(C(419)),r=Ql(s,r,void 0),Fs(t,e,o,r)}if(l=(o&t.childLanes)!==0,Ke||l){if(r=Re,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xt(t,i),Nt(r,t,i,-1))}return pc(),r=Ql(Error(C(421))),Fs(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=e_.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,it=gn(i.nextSibling),st=e,he=!0,St=null,t!==null&&(ut[ct++]=$t,ut[ct++]=Vt,ut[ct++]=Gn,$t=t.id,Vt=t.overflow,Gn=e),e=ac(e,r.children),e.flags|=4096,e)}function ah(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wa(t.return,e,n)}function ql(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Sm(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Be(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ah(t,n,e);else if(t.tag===19)ah(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(le(fe,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xo(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ql(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xo(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ql(e,!0,n,null,s);break;case"together":ql(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(C(153));if(e.child!==null){for(t=e.child,n=wn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=wn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function B0(t,e,n){switch(e.tag){case 3:wm(e),Lr();break;case 5:Qp(e);break;case 1:Ze(e.type)&&mo(e);break;case 4:ec(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;le(vo,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(le(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?xm(t,e,n):(le(fe,fe.current&1),t=Jt(t,e,n),t!==null?t.sibling:null);le(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Sm(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,vm(t,e,n)}return Jt(t,e,n)}var Cm,Qa,Em,km;Cm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qa=function(){};Em=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Un(Ft.current);var s=null;switch(n){case"input":i=ga(t,i),r=ga(t,r),s=[];break;case"select":i=me({},i,{value:void 0}),r=me({},r,{value:void 0}),s=[];break;case"textarea":i=_a(t,i),r=_a(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fo)}xa(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Di.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Di.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&ce("scroll",t),s||l===a||(s=[])):(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};km=function(t,e,n,r){n!==r&&(e.flags|=4)};function ui(t,e){if(!he)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $0(t,e,n){var r=e.pendingProps;switch(Yu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(e),null;case 1:return Ze(e.type)&&po(),ze(e),null;case 3:return r=e.stateNode,Fr(),de(Je),de(Ue),nc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ls(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,St!==null&&(nu(St),St=null))),Qa(t,e),ze(e),null;case 5:tc(e);var i=Un(Hi.current);if(n=e.type,t!==null&&e.stateNode!=null)Em(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(C(166));return ze(e),null}if(t=Un(Ft.current),Ls(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ot]=e,r[$i]=s,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<vi.length;i++)ce(vi[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":yd(r,s),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ce("invalid",r);break;case"textarea":_d(r,s),ce("invalid",r)}xa(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&As(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&As(r.textContent,l,t),i=["children",""+l]):Di.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":Ts(r),vd(r,s,!0);break;case"textarea":Ts(r),wd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fo)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ot]=e,t[$i]=r,Cm(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sa(n,r),n){case"dialog":ce("cancel",t),ce("close",t),i=r;break;case"iframe":case"object":case"embed":ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<vi.length;i++)ce(vi[i],t);i=r;break;case"source":ce("error",t),i=r;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=r;break;case"details":ce("toggle",t),i=r;break;case"input":yd(t,r),i=ga(t,r),ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=me({},r,{value:void 0}),ce("invalid",t);break;case"textarea":_d(t,r),i=_a(t,r),ce("invalid",t);break;default:i=r}xa(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?np(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&ep(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Oi(t,a):typeof a=="number"&&Oi(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Di.hasOwnProperty(s)?a!=null&&s==="onScroll"&&ce("scroll",t):a!=null&&Mu(t,s,a,o))}switch(n){case"input":Ts(t),vd(t,r,!1);break;case"textarea":Ts(t),wd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+kn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Er(t,!!r.multiple,s,!1):r.defaultValue!=null&&Er(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ze(e),null;case 6:if(t&&e.stateNode!=null)km(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(C(166));if(n=Un(Hi.current),Un(Ft.current),Ls(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ot]=e,(s=r.nodeValue!==n)&&(t=st,t!==null))switch(t.tag){case 3:As(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&As(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=e,e.stateNode=r}return ze(e),null;case 13:if(de(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(he&&it!==null&&e.mode&1&&!(e.flags&128))$p(),Lr(),e.flags|=98560,s=!1;else if(s=Ls(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(C(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(C(317));s[Ot]=e}else Lr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ze(e),s=!1}else St!==null&&(nu(St),St=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Te===0&&(Te=3):pc())),e.updateQueue!==null&&(e.flags|=4),ze(e),null);case 4:return Fr(),Qa(t,e),t===null&&Ui(e.stateNode.containerInfo),ze(e),null;case 10:return Xu(e.type._context),ze(e),null;case 17:return Ze(e.type)&&po(),ze(e),null;case 19:if(de(fe),s=e.memoizedState,s===null)return ze(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ui(s,!1);else{if(Te!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xo(t),o!==null){for(e.flags|=128,ui(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(fe,fe.current&1|2),e.child}t=t.sibling}s.tail!==null&&xe()>Wr&&(e.flags|=128,r=!0,ui(s,!1),e.lanes=4194304)}else{if(!r)if(t=xo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ui(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!he)return ze(e),null}else 2*xe()-s.renderingStartTime>Wr&&n!==1073741824&&(e.flags|=128,r=!0,ui(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xe(),e.sibling=null,n=fe.current,le(fe,r?n&1|2:n&1),e):(ze(e),null);case 22:case 23:return fc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rt&1073741824&&(ze(e),e.subtreeFlags&6&&(e.flags|=8192)):ze(e),null;case 24:return null;case 25:return null}throw Error(C(156,e.tag))}function V0(t,e){switch(Yu(e),e.tag){case 1:return Ze(e.type)&&po(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fr(),de(Je),de(Ue),nc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tc(e),null;case 13:if(de(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(C(340));Lr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(fe),null;case 4:return Fr(),null;case 10:return Xu(e.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var zs=!1,We=!1,H0=typeof WeakSet=="function"?WeakSet:Set,R=null;function xr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ve(t,e,r)}else n.current=null}function qa(t,e,n){try{n()}catch(r){ve(t,e,r)}}var uh=!1;function G0(t,e){if(Ma=uo,t=bp(),Hu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var w;d!==n||i!==0&&d.nodeType!==3||(l=o+i),d!==s||r!==0&&d.nodeType!==3||(a=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(w=d.firstChild)!==null;)f=d,d=w;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=o),f===s&&++c===r&&(a=o),(w=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=w}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Da={focusedElem:t,selectionRange:n},uo=!1,R=e;R!==null;)if(e=R,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,R=t;else for(;R!==null;){e=R;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,T=v.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:wt(e.type,x),T);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(S){ve(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,R=t;break}R=e.return}return v=uh,uh=!1,v}function ki(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qa(e,n,s)}i=i.next}while(i!==r)}}function il(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ka(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Nm(t){var e=t.alternate;e!==null&&(t.alternate=null,Nm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ot],delete e[$i],delete e[La],delete e[I0],delete e[P0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Tm(t){return t.tag===5||t.tag===3||t.tag===4}function ch(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Tm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fo));else if(r!==4&&(t=t.child,t!==null))for(Xa(t,e,n),t=t.sibling;t!==null;)Xa(t,e,n),t=t.sibling}function Ja(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ja(t,e,n),t=t.sibling;t!==null;)Ja(t,e,n),t=t.sibling}var De=null,xt=!1;function rn(t,e,n){for(n=n.child;n!==null;)Im(t,e,n),n=n.sibling}function Im(t,e,n){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Ko,n)}catch{}switch(n.tag){case 5:We||xr(n,e);case 6:var r=De,i=xt;De=null,rn(t,e,n),De=r,xt=i,De!==null&&(xt?(t=De,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(xt?(t=De,n=n.stateNode,t.nodeType===8?Bl(t.parentNode,n):t.nodeType===1&&Bl(t,n),Fi(t)):Bl(De,n.stateNode));break;case 4:r=De,i=xt,De=n.stateNode.containerInfo,xt=!0,rn(t,e,n),De=r,xt=i;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qa(n,e,o),i=i.next}while(i!==r)}rn(t,e,n);break;case 1:if(!We&&(xr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){ve(n,e,l)}rn(t,e,n);break;case 21:rn(t,e,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,rn(t,e,n),We=r):rn(t,e,n);break;default:rn(t,e,n)}}function dh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new H0),e.forEach(function(r){var i=t_.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _t(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:De=l.stateNode,xt=!1;break e;case 3:De=l.stateNode.containerInfo,xt=!0;break e;case 4:De=l.stateNode.containerInfo,xt=!0;break e}l=l.return}if(De===null)throw Error(C(160));Im(s,o,i),De=null,xt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){ve(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pm(e,t),e=e.sibling}function Pm(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_t(e,t),Mt(t),r&4){try{ki(3,t,t.return),il(3,t)}catch(x){ve(t,t.return,x)}try{ki(5,t,t.return)}catch(x){ve(t,t.return,x)}}break;case 1:_t(e,t),Mt(t),r&512&&n!==null&&xr(n,n.return);break;case 5:if(_t(e,t),Mt(t),r&512&&n!==null&&xr(n,n.return),t.flags&32){var i=t.stateNode;try{Oi(i,"")}catch(x){ve(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Xf(i,s),Sa(l,o);var u=Sa(l,s);for(o=0;o<a.length;o+=2){var c=a[o],d=a[o+1];c==="style"?np(i,d):c==="dangerouslySetInnerHTML"?ep(i,d):c==="children"?Oi(i,d):Mu(i,c,d,u)}switch(l){case"input":ya(i,s);break;case"textarea":Jf(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?Er(i,!!s.multiple,w,!1):f!==!!s.multiple&&(s.defaultValue!=null?Er(i,!!s.multiple,s.defaultValue,!0):Er(i,!!s.multiple,s.multiple?[]:"",!1))}i[$i]=s}catch(x){ve(t,t.return,x)}}break;case 6:if(_t(e,t),Mt(t),r&4){if(t.stateNode===null)throw Error(C(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){ve(t,t.return,x)}}break;case 3:if(_t(e,t),Mt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fi(e.containerInfo)}catch(x){ve(t,t.return,x)}break;case 4:_t(e,t),Mt(t);break;case 13:_t(e,t),Mt(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dc=xe())),r&4&&dh(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(We=(u=We)||c,_t(e,t),We=u):_t(e,t),Mt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(R=t,c=t.child;c!==null;){for(d=R=c;R!==null;){switch(f=R,w=f.child,f.tag){case 0:case 11:case 14:case 15:ki(4,f,f.return);break;case 1:xr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){ve(r,n,x)}}break;case 5:xr(f,f.return);break;case 22:if(f.memoizedState!==null){fh(d);continue}}w!==null?(w.return=f,R=w):fh(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=d.stateNode,a=d.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=tp("display",o))}catch(x){ve(t,t.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){ve(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:_t(e,t),Mt(t),r&4&&dh(t);break;case 21:break;default:_t(e,t),Mt(t)}}function Mt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Tm(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Oi(i,""),r.flags&=-33);var s=ch(t);Ja(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=ch(t);Xa(t,l,o);break;default:throw Error(C(161))}}catch(a){ve(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y0(t,e,n){R=t,bm(t)}function bm(t,e,n){for(var r=(t.mode&1)!==0;R!==null;){var i=R,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zs;if(!o){var l=i.alternate,a=l!==null&&l.memoizedState!==null||We;l=zs;var u=We;if(zs=o,(We=a)&&!u)for(R=i;R!==null;)o=R,a=o.child,o.tag===22&&o.memoizedState!==null?ph(i):a!==null?(a.return=o,R=a):ph(i);for(;s!==null;)R=s,bm(s),s=s.sibling;R=i,zs=l,We=u}hh(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,R=s):hh(t)}}function hh(t){for(;R!==null;){var e=R;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||il(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!We)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Kd(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Kd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Fi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}We||e.flags&512&&Ka(e)}catch(f){ve(e,e.return,f)}}if(e===t){R=null;break}if(n=e.sibling,n!==null){n.return=e.return,R=n;break}R=e.return}}function fh(t){for(;R!==null;){var e=R;if(e===t){R=null;break}var n=e.sibling;if(n!==null){n.return=e.return,R=n;break}R=e.return}}function ph(t){for(;R!==null;){var e=R;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{il(4,e)}catch(a){ve(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){ve(e,i,a)}}var s=e.return;try{Ka(e)}catch(a){ve(e,s,a)}break;case 5:var o=e.return;try{Ka(e)}catch(a){ve(e,o,a)}}}catch(a){ve(e,e.return,a)}if(e===t){R=null;break}var l=e.sibling;if(l!==null){l.return=e.return,R=l;break}R=e.return}}var Q0=Math.ceil,Eo=tn.ReactCurrentDispatcher,uc=tn.ReactCurrentOwner,ft=tn.ReactCurrentBatchConfig,K=0,Re=null,Se=null,Ae=0,rt=0,Sr=Rn(0),Te=0,qi=null,Qn=0,sl=0,cc=0,Ni=null,qe=null,dc=0,Wr=1/0,Ut=null,ko=!1,Za=null,vn=null,Ws=!1,dn=null,No=0,Ti=0,eu=null,eo=-1,to=0;function Ve(){return K&6?xe():eo!==-1?eo:eo=xe()}function _n(t){return t.mode&1?K&2&&Ae!==0?Ae&-Ae:R0.transition!==null?(to===0&&(to=pp()),to):(t=ee,t!==0||(t=window.event,t=t===void 0?16:xp(t.type)),t):1}function Nt(t,e,n,r){if(50<Ti)throw Ti=0,eu=null,Error(C(185));ds(t,n,r),(!(K&2)||t!==Re)&&(t===Re&&(!(K&2)&&(sl|=n),Te===4&&un(t,Ae)),et(t,r),n===1&&K===0&&!(e.mode&1)&&(Wr=xe()+500,tl&&Mn()))}function et(t,e){var n=t.callbackNode;Rv(t,e);var r=ao(t,t===Re?Ae:0);if(r===0)n!==null&&Cd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Cd(n),e===1)t.tag===0?b0(mh.bind(null,t)):Wp(mh.bind(null,t)),N0(function(){!(K&6)&&Mn()}),n=null;else{switch(mp(r)){case 1:n=ju;break;case 4:n=hp;break;case 16:n=lo;break;case 536870912:n=fp;break;default:n=lo}n=Fm(n,Rm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rm(t,e){if(eo=-1,to=0,K&6)throw Error(C(327));var n=t.callbackNode;if(Pr()&&t.callbackNode!==n)return null;var r=ao(t,t===Re?Ae:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=To(t,r);else{e=r;var i=K;K|=2;var s=Dm();(Re!==t||Ae!==e)&&(Ut=null,Wr=xe()+500,$n(t,e));do try{X0();break}catch(l){Mm(t,l)}while(!0);Ku(),Eo.current=s,K=i,Se!==null?e=0:(Re=null,Ae=0,e=Te)}if(e!==0){if(e===2&&(i=Ta(t),i!==0&&(r=i,e=tu(t,i))),e===1)throw n=qi,$n(t,0),un(t,r),et(t,xe()),n;if(e===6)un(t,r);else{if(i=t.current.alternate,!(r&30)&&!q0(i)&&(e=To(t,r),e===2&&(s=Ta(t),s!==0&&(r=s,e=tu(t,s))),e===1))throw n=qi,$n(t,0),un(t,r),et(t,xe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(C(345));case 2:An(t,qe,Ut);break;case 3:if(un(t,r),(r&130023424)===r&&(e=dc+500-xe(),10<e)){if(ao(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ve(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Aa(An.bind(null,t,qe,Ut),e);break}An(t,qe,Ut);break;case 4:if(un(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-kt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Q0(r/1960))-r,10<r){t.timeoutHandle=Aa(An.bind(null,t,qe,Ut),r);break}An(t,qe,Ut);break;case 5:An(t,qe,Ut);break;default:throw Error(C(329))}}}return et(t,xe()),t.callbackNode===n?Rm.bind(null,t):null}function tu(t,e){var n=Ni;return t.current.memoizedState.isDehydrated&&($n(t,e).flags|=256),t=To(t,e),t!==2&&(e=qe,qe=n,e!==null&&nu(e)),t}function nu(t){qe===null?qe=t:qe.push.apply(qe,t)}function q0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!It(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function un(t,e){for(e&=~cc,e&=~sl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-kt(e),r=1<<n;t[n]=-1,e&=~r}}function mh(t){if(K&6)throw Error(C(327));Pr();var e=ao(t,0);if(!(e&1))return et(t,xe()),null;var n=To(t,e);if(t.tag!==0&&n===2){var r=Ta(t);r!==0&&(e=r,n=tu(t,r))}if(n===1)throw n=qi,$n(t,0),un(t,e),et(t,xe()),n;if(n===6)throw Error(C(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,An(t,qe,Ut),et(t,xe()),null}function hc(t,e){var n=K;K|=1;try{return t(e)}finally{K=n,K===0&&(Wr=xe()+500,tl&&Mn())}}function qn(t){dn!==null&&dn.tag===0&&!(K&6)&&Pr();var e=K;K|=1;var n=ft.transition,r=ee;try{if(ft.transition=null,ee=1,t)return t()}finally{ee=r,ft.transition=n,K=e,!(K&6)&&Mn()}}function fc(){rt=Sr.current,de(Sr)}function $n(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,k0(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(Yu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&po();break;case 3:Fr(),de(Je),de(Ue),nc();break;case 5:tc(r);break;case 4:Fr();break;case 13:de(fe);break;case 19:de(fe);break;case 10:Xu(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Re=t,Se=t=wn(t.current,null),Ae=rt=e,Te=0,qi=null,cc=sl=Qn=0,qe=Ni=null,Wn!==null){for(e=0;e<Wn.length;e++)if(n=Wn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wn=null}return t}function Mm(t,e){do{var n=Se;try{if(Ku(),Xs.current=Co,So){for(var r=pe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}So=!1}if(Yn=0,Pe=Ee=pe=null,Ei=!1,Gi=0,uc.current=null,n===null||n.return===null){Te=1,qi=e,Se=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=Ae,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var w=nh(o);if(w!==null){w.flags&=-257,rh(w,o,l,s,e),w.mode&1&&th(s,u,e),e=w,a=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(a),e.updateQueue=x}else v.add(a);break e}else{if(!(e&1)){th(s,u,e),pc();break e}a=Error(C(426))}}else if(he&&l.mode&1){var T=nh(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),rh(T,o,l,s,e),Qu(zr(a,l));break e}}s=a=zr(a,l),Te!==4&&(Te=2),Ni===null?Ni=[s]:Ni.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=mm(s,a,e);qd(s,y);break e;case 1:l=a;var p=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(vn===null||!vn.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=gm(s,l,e);qd(s,S);break e}}s=s.return}while(s!==null)}Am(n)}catch(P){e=P,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Dm(){var t=Eo.current;return Eo.current=Co,t===null?Co:t}function pc(){(Te===0||Te===3||Te===2)&&(Te=4),Re===null||!(Qn&268435455)&&!(sl&268435455)||un(Re,Ae)}function To(t,e){var n=K;K|=2;var r=Dm();(Re!==t||Ae!==e)&&(Ut=null,$n(t,e));do try{K0();break}catch(i){Mm(t,i)}while(!0);if(Ku(),K=n,Eo.current=r,Se!==null)throw Error(C(261));return Re=null,Ae=0,Te}function K0(){for(;Se!==null;)Om(Se)}function X0(){for(;Se!==null&&!Sv();)Om(Se)}function Om(t){var e=jm(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?Am(t):Se=e,uc.current=null}function Am(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=V0(n,e),n!==null){n.flags&=32767,Se=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Te=6,Se=null;return}}else if(n=$0(n,e,rt),n!==null){Se=n;return}if(e=e.sibling,e!==null){Se=e;return}Se=e=t}while(e!==null);Te===0&&(Te=5)}function An(t,e,n){var r=ee,i=ft.transition;try{ft.transition=null,ee=1,J0(t,e,n,r)}finally{ft.transition=i,ee=r}return null}function J0(t,e,n,r){do Pr();while(dn!==null);if(K&6)throw Error(C(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(C(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mv(t,s),t===Re&&(Se=Re=null,Ae=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ws||(Ws=!0,Fm(lo,function(){return Pr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ft.transition,ft.transition=null;var o=ee;ee=1;var l=K;K|=4,uc.current=null,G0(t,n),Pm(n,t),v0(Da),uo=!!Ma,Da=Ma=null,t.current=n,Y0(n),Cv(),K=l,ee=o,ft.transition=s}else t.current=n;if(Ws&&(Ws=!1,dn=t,No=i),s=t.pendingLanes,s===0&&(vn=null),Nv(n.stateNode),et(t,xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ko)throw ko=!1,t=Za,Za=null,t;return No&1&&t.tag!==0&&Pr(),s=t.pendingLanes,s&1?t===eu?Ti++:(Ti=0,eu=t):Ti=0,Mn(),null}function Pr(){if(dn!==null){var t=mp(No),e=ft.transition,n=ee;try{if(ft.transition=null,ee=16>t?16:t,dn===null)var r=!1;else{if(t=dn,dn=null,No=0,K&6)throw Error(C(331));var i=K;for(K|=4,R=t.current;R!==null;){var s=R,o=s.child;if(R.flags&16){var l=s.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(R=u;R!==null;){var c=R;switch(c.tag){case 0:case 11:case 15:ki(8,c,s)}var d=c.child;if(d!==null)d.return=c,R=d;else for(;R!==null;){c=R;var f=c.sibling,w=c.return;if(Nm(c),c===u){R=null;break}if(f!==null){f.return=w,R=f;break}R=w}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var T=x.sibling;x.sibling=null,x=T}while(x!==null)}}R=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,R=o;else e:for(;R!==null;){if(s=R,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ki(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,R=y;break e}R=s.return}}var p=t.current;for(R=p;R!==null;){o=R;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,R=g;else e:for(o=p;R!==null;){if(l=R,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(P){ve(l,l.return,P)}if(l===o){R=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,R=S;break e}R=l.return}}if(K=i,Mn(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Ko,t)}catch{}r=!0}return r}finally{ee=n,ft.transition=e}}return!1}function gh(t,e,n){e=zr(n,e),e=mm(t,e,1),t=yn(t,e,1),e=Ve(),t!==null&&(ds(t,1,e),et(t,e))}function ve(t,e,n){if(t.tag===3)gh(t,t,n);else for(;e!==null;){if(e.tag===3){gh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(vn===null||!vn.has(r))){t=zr(n,t),t=gm(e,t,1),e=yn(e,t,1),t=Ve(),e!==null&&(ds(e,1,t),et(e,t));break}}e=e.return}}function Z0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ve(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(Ae&n)===n&&(Te===4||Te===3&&(Ae&130023424)===Ae&&500>xe()-dc?$n(t,0):cc|=n),et(t,e)}function Lm(t,e){e===0&&(t.mode&1?(e=bs,bs<<=1,!(bs&130023424)&&(bs=4194304)):e=1);var n=Ve();t=Xt(t,e),t!==null&&(ds(t,e,n),et(t,n))}function e_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lm(t,n)}function t_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(e),Lm(t,n)}var jm;jm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Je.current)Ke=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ke=!1,B0(t,e,n);Ke=!!(t.flags&131072)}else Ke=!1,he&&e.flags&1048576&&Up(e,yo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zs(t,e),t=e.pendingProps;var i=Ar(e,Ue.current);Ir(e,n),i=ic(null,e,r,t,i,n);var s=sc();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ze(r)?(s=!0,mo(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Zu(e),i.updater=rl,e.stateNode=i,i._reactInternals=e,Ba(e,r,t,n),e=Ha(null,e,r,!0,s,n)):(e.tag=0,he&&s&&Gu(e),Be(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zs(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=r_(r),t=wt(r,t),i){case 0:e=Va(null,e,r,t,n);break e;case 1:e=oh(null,e,r,t,n);break e;case 11:e=ih(null,e,r,t,n);break e;case 14:e=sh(null,e,r,wt(r.type,t),n);break e}throw Error(C(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wt(r,i),Va(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wt(r,i),oh(t,e,r,i,n);case 3:e:{if(wm(e),t===null)throw Error(C(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Yp(t,e),wo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=zr(Error(C(423)),e),e=lh(t,e,r,n,i);break e}else if(r!==i){i=zr(Error(C(424)),e),e=lh(t,e,r,n,i);break e}else for(it=gn(e.stateNode.containerInfo.firstChild),st=e,he=!0,St=null,n=Hp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Lr(),r===i){e=Jt(t,e,n);break e}Be(t,e,r,n)}e=e.child}return e;case 5:return Qp(e),t===null&&za(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Oa(r,i)?o=null:s!==null&&Oa(r,s)&&(e.flags|=32),_m(t,e),Be(t,e,o,n),e.child;case 6:return t===null&&za(e),null;case 13:return xm(t,e,n);case 4:return ec(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=jr(e,null,r,n):Be(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wt(r,i),ih(t,e,r,i,n);case 7:return Be(t,e,e.pendingProps,n),e.child;case 8:return Be(t,e,e.pendingProps.children,n),e.child;case 12:return Be(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,le(vo,r._currentValue),r._currentValue=o,s!==null)if(It(s.value,o)){if(s.children===i.children&&!Je.current){e=Jt(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(s.tag===1){a=Gt(-1,n&-n),a.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Wa(s.return,n,e),l.lanes|=n;break}a=a.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(C(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Wa(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Be(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ir(e,n),i=pt(i),r=r(i),e.flags|=1,Be(t,e,r,n),e.child;case 14:return r=e.type,i=wt(r,e.pendingProps),i=wt(r.type,i),sh(t,e,r,i,n);case 15:return ym(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wt(r,i),Zs(t,e),e.tag=1,Ze(r)?(t=!0,mo(e)):t=!1,Ir(e,n),pm(e,r,i),Ba(e,r,i,n),Ha(null,e,r,!0,t,n);case 19:return Sm(t,e,n);case 22:return vm(t,e,n)}throw Error(C(156,e.tag))};function Fm(t,e){return dp(t,e)}function n_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dt(t,e,n,r){return new n_(t,e,n,r)}function mc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function r_(t){if(typeof t=="function")return mc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ou)return 11;if(t===Au)return 14}return 2}function wn(t,e){var n=t.alternate;return n===null?(n=dt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function no(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")mc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hr:return Vn(n.children,i,s,e);case Du:o=8,i|=8;break;case ha:return t=dt(12,n,e,i|2),t.elementType=ha,t.lanes=s,t;case fa:return t=dt(13,n,e,i),t.elementType=fa,t.lanes=s,t;case pa:return t=dt(19,n,e,i),t.elementType=pa,t.lanes=s,t;case Qf:return ol(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gf:o=10;break e;case Yf:o=9;break e;case Ou:o=11;break e;case Au:o=14;break e;case on:o=16,r=null;break e}throw Error(C(130,t==null?t:typeof t,""))}return e=dt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vn(t,e,n,r){return t=dt(7,t,r,e),t.lanes=n,t}function ol(t,e,n,r){return t=dt(22,t,r,e),t.elementType=Qf,t.lanes=n,t.stateNode={isHidden:!1},t}function Kl(t,e,n){return t=dt(6,t,null,e),t.lanes=n,t}function Xl(t,e,n){return e=dt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i_(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rl(0),this.expirationTimes=Rl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gc(t,e,n,r,i,s,o,l,a){return t=new i_(t,e,n,l,a),e===1?(e=1,s===!0&&(e|=8)):e=0,s=dt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zu(s),t}function s_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zm(t){if(!t)return Nn;t=t._reactInternals;e:{if(tr(t)!==t||t.tag!==1)throw Error(C(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ze(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(C(171))}if(t.tag===1){var n=t.type;if(Ze(n))return zp(t,n,e)}return e}function Wm(t,e,n,r,i,s,o,l,a){return t=gc(n,r,!0,t,i,s,o,l,a),t.context=zm(null),n=t.current,r=Ve(),i=_n(n),s=Gt(r,i),s.callback=e??null,yn(n,s,i),t.current.lanes=i,ds(t,i,r),et(t,r),t}function ll(t,e,n,r){var i=e.current,s=Ve(),o=_n(i);return n=zm(n),e.context===null?e.context=n:e.pendingContext=n,e=Gt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=yn(i,e,o),t!==null&&(Nt(t,i,o,s),Ks(t,i,o)),o}function Io(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yc(t,e){yh(t,e),(t=t.alternate)&&yh(t,e)}function o_(){return null}var Um=typeof reportError=="function"?reportError:function(t){console.error(t)};function vc(t){this._internalRoot=t}al.prototype.render=vc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(C(409));ll(t,e,null,null)};al.prototype.unmount=vc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qn(function(){ll(null,t,null,null)}),e[Kt]=null}};function al(t){this._internalRoot=t}al.prototype.unstable_scheduleHydration=function(t){if(t){var e=vp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<an.length&&e!==0&&e<an[n].priority;n++);an.splice(n,0,t),n===0&&wp(t)}};function _c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vh(){}function l_(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=Io(o);s.call(u)}}var o=Wm(e,r,t,0,null,!1,!1,"",vh);return t._reactRootContainer=o,t[Kt]=o.current,Ui(t.nodeType===8?t.parentNode:t),qn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Io(a);l.call(u)}}var a=gc(t,0,!1,null,null,!1,!1,"",vh);return t._reactRootContainer=a,t[Kt]=a.current,Ui(t.nodeType===8?t.parentNode:t),qn(function(){ll(e,a,n,r)}),a}function cl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var a=Io(o);l.call(a)}}ll(e,o,t,i)}else o=l_(n,e,t,i,r);return Io(o)}gp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yi(e.pendingLanes);n!==0&&(Fu(e,n|1),et(e,xe()),!(K&6)&&(Wr=xe()+500,Mn()))}break;case 13:qn(function(){var r=Xt(t,1);if(r!==null){var i=Ve();Nt(r,t,1,i)}}),yc(t,1)}};zu=function(t){if(t.tag===13){var e=Xt(t,134217728);if(e!==null){var n=Ve();Nt(e,t,134217728,n)}yc(t,134217728)}};yp=function(t){if(t.tag===13){var e=_n(t),n=Xt(t,e);if(n!==null){var r=Ve();Nt(n,t,e,r)}yc(t,e)}};vp=function(){return ee};_p=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};Ea=function(t,e,n){switch(e){case"input":if(ya(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=el(r);if(!i)throw Error(C(90));Kf(r),ya(r,i)}}}break;case"textarea":Jf(t,n);break;case"select":e=n.value,e!=null&&Er(t,!!n.multiple,e,!1)}};sp=hc;op=qn;var a_={usingClientEntryPoint:!1,Events:[fs,gr,el,rp,ip,hc]},ci={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u_={bundleType:ci.bundleType,version:ci.version,rendererPackageName:ci.rendererPackageName,rendererConfig:ci.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=up(t),t===null?null:t.stateNode},findFiberByHostInstance:ci.findFiberByHostInstance||o_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Us.isDisabled&&Us.supportsFiber)try{Ko=Us.inject(u_),jt=Us}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a_;lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_c(e))throw Error(C(200));return s_(t,e,null,n)};lt.createRoot=function(t,e){if(!_c(t))throw Error(C(299));var n=!1,r="",i=Um;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gc(t,1,!1,null,null,n,!1,r,i),t[Kt]=e.current,Ui(t.nodeType===8?t.parentNode:t),new vc(e)};lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(C(188)):(t=Object.keys(t).join(","),Error(C(268,t)));return t=up(e),t=t===null?null:t.stateNode,t};lt.flushSync=function(t){return qn(t)};lt.hydrate=function(t,e,n){if(!ul(e))throw Error(C(200));return cl(null,t,e,!0,n)};lt.hydrateRoot=function(t,e,n){if(!_c(t))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Um;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Wm(e,null,t,1,n??null,i,!1,s,o),t[Kt]=e.current,Ui(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new al(e)};lt.render=function(t,e,n){if(!ul(e))throw Error(C(200));return cl(null,t,e,!1,n)};lt.unmountComponentAtNode=function(t){if(!ul(t))throw Error(C(40));return t._reactRootContainer?(qn(function(){cl(null,null,t,!1,function(){t._reactRootContainer=null,t[Kt]=null})}),!0):!1};lt.unstable_batchedUpdates=hc;lt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ul(n))throw Error(C(200));if(t==null||t._reactInternals===void 0)throw Error(C(38));return cl(t,e,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function Bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bm)}catch(t){console.error(t)}}Bm(),Bf.exports=lt;var c_=Bf.exports,$m,_h=c_;$m=_h.createRoot,_h.hydrateRoot;const cr=t=>{const e=t.wins+t.losses,n=e>0?Math.min(Math.max(t.wins/e*100,0),100):0;return{totalGames:e,winRate:Number.isFinite(n)?n:0}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ce=(t,e)=>{const n=B.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>B.createElement("svg",{ref:c,...d_,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${h_(t)}`,l].join(" "),...u},[...e.map(([d,f])=>B.createElement(d,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=Ce("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=Ce("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=Ce("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=Ce("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=Ce("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=Ce("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Ce("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=Ce("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=Ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=Ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=Ce("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=Ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Ce("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=Ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=Ce("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Ce("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=Ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=Ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),E_=2*1024*1024,k_=t=>new Promise((e,n)=>{if(t.size>E_){n(new Error("   .    2 "));return}const r=new FileReader;r.onload=()=>{e(r.result)},r.onerror=()=>{n(new Error("   "))},r.readAsDataURL(t)}),N_=async(t,e=400)=>new Promise((n,r)=>{const i=new Image;i.src=t,i.onload=()=>{const s=document.createElement("canvas"),o=s.getContext("2d");if(!o){r(new Error("    "));return}let l=i.width,a=i.height;l>e&&(a=a*e/l,l=e),s.width=l,s.height=a,o.drawImage(i,0,0,l,a),n(s.toDataURL("image/jpeg",.85))},i.onerror=()=>r(new Error("   "))}),T_=({player:t,onDelete:e,isEditMode:n,onUpdateScore:r,onUpdateImage:i})=>{cr(t);const s=B.useRef(null),[o,l]=B.useState(null),a=async c=>{var f;const d=(f=c.target.files)==null?void 0:f[0];if(!(!d||!i))try{l(null);const w=await k_(d),v=await N_(w);i(t.id,v)}catch(w){l(w instanceof Error?w.message:"    ")}},u=()=>{i&&i(t.id,null)};return h.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"relative group",children:n?h.jsxs("div",{className:"w-12 h-12 rounded-full bg-gray-100 overflow-hidden cursor-pointer group-hover:ring-2 ring-blue-400 transition-all relative",onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},children:[t.imageUrl?h.jsxs(h.Fragment,{children:[h.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover",onError:c=>{c.currentTarget.src="https://via.placeholder.com/100?text="}}),h.jsx("button",{onClick:c=>{c.stopPropagation(),u()},className:"absolute top-0 right-0 p-0.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(C_,{size:12})})]}):h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.jsx(p_,{size:20,className:"text-gray-400"})}),h.jsx("input",{ref:s,type:"file",className:"hidden",accept:"image/*",onChange:a})]}):h.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 overflow-hidden",children:t.imageUrl&&h.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover",onError:c=>{c.currentTarget.src="https://via.placeholder.com/100?text="}})})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:t.name}),o&&h.jsx("p",{className:"text-xs text-red-500 mt-1",children:o})]})]}),n&&h.jsx("button",{onClick:()=>e(t.id),className:"text-red-400 hover:text-red-600 transition-colors",title:" ",children:h.jsx(Ki,{size:18})})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[h.jsxs("div",{className:"text-center p-2 bg-green-50 rounded relative",children:[h.jsx("div",{className:"text-green-600 text-sm",children:""}),h.jsx("div",{className:"text-xl font-bold text-green-700",children:t.wins}),n&&r&&h.jsxs("div",{className:"absolute -bottom-2 left-0 right-0 flex justify-center gap-1",children:[h.jsx("button",{onClick:()=>r(t.id,"wins",!0),className:"p-1 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all transform hover:scale-110",title:" ",children:h.jsx(Ch,{size:12})}),h.jsx("button",{onClick:()=>r(t.id,"wins",!1),className:"p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all transform hover:scale-110",title:" ",disabled:t.wins<=0,children:h.jsx(wh,{size:12})})]})]}),h.jsxs("div",{className:"text-center p-2 bg-red-50 rounded relative",children:[h.jsx("div",{className:"text-red-600 text-sm",children:""}),h.jsx("div",{className:"text-xl font-bold text-red-700",children:t.losses}),n&&r&&h.jsxs("div",{className:"absolute -bottom-2 left-0 right-0 flex justify-center gap-1",children:[h.jsx("button",{onClick:()=>r(t.id,"losses",!0),className:"p-1 bg-green-500 text-white rounded-full hover:bg-green-600 transition-all transform hover:scale-110",title:" ",children:h.jsx(Ch,{size:12})}),h.jsx("button",{onClick:()=>r(t.id,"losses",!1),className:"p-1 bg-red-500 text-white rounded-full hover:bg-red-600 transition-all transform hover:scale-110",title:" ",disabled:t.losses<=0,children:h.jsx(wh,{size:12})})]})]})]})]})};function bt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Kn(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Gm=6048e5,I_=864e5;let P_={};function dl(){return P_}function Ji(t,e){var l,a,u,c;const n=dl(),r=(e==null?void 0:e.weekStartsOn)??((a=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=bt(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Po(t){return Ji(t,{weekStartsOn:1})}function Ym(t){const e=bt(t),n=e.getFullYear(),r=Kn(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Po(r),s=Kn(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Po(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Eh(t){const e=bt(t);return e.setHours(0,0,0,0),e}function kh(t){const e=bt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function b_(t,e){const n=Eh(t),r=Eh(e),i=+n-kh(n),s=+r-kh(r);return Math.round((i-s)/I_)}function R_(t){const e=Ym(t),n=Kn(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Po(n)}function M_(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function D_(t){if(!M_(t)&&typeof t!="number")return!1;const e=bt(t);return!isNaN(Number(e))}function O_(t){const e=bt(t),n=Kn(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const A_={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},L_=(t,e,n)=>{let r;const i=A_[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function br(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const j_={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},F_={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},z_={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},W_={date:br({formats:j_,defaultWidth:"full"}),time:br({formats:F_,defaultWidth:"full"}),dateTime:br({formats:z_,defaultWidth:"full"})},U_={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},B_=(t,e,n,r)=>U_[t];function At(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const $_={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},V_={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},H_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},G_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Y_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Q_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q_=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},K_={ordinalNumber:q_,era:At({values:$_,defaultWidth:"wide"}),quarter:At({values:V_,defaultWidth:"wide",argumentCallback:t=>t-1}),month:At({values:H_,defaultWidth:"wide"}),day:At({values:G_,defaultWidth:"wide"}),dayPeriod:At({values:Y_,defaultWidth:"wide",formattingValues:Q_,defaultFormattingWidth:"wide"})};function Lt(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],a=Array.isArray(l)?J_(l,d=>d.test(o)):X_(l,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(a):a,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function X_(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function J_(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Qm(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const Z_=/^(\d+)(th|st|nd|rd)?/i,ew=/\d+/i,tw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nw={any:[/^b/i,/^(a|c)/i]},rw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},iw={any:[/1/i,/2/i,/3/i,/4/i]},sw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ow={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},aw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uw={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cw={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dw={ordinalNumber:Qm({matchPattern:Z_,parsePattern:ew,valueCallback:t=>parseInt(t,10)}),era:Lt({matchPatterns:tw,defaultMatchWidth:"wide",parsePatterns:nw,defaultParseWidth:"any"}),quarter:Lt({matchPatterns:rw,defaultMatchWidth:"wide",parsePatterns:iw,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lt({matchPatterns:sw,defaultMatchWidth:"wide",parsePatterns:ow,defaultParseWidth:"any"}),day:Lt({matchPatterns:lw,defaultMatchWidth:"wide",parsePatterns:aw,defaultParseWidth:"any"}),dayPeriod:Lt({matchPatterns:uw,defaultMatchWidth:"any",parsePatterns:cw,defaultParseWidth:"any"})},hw={code:"en-US",formatDistance:L_,formatLong:W_,formatRelative:B_,localize:K_,match:dw,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fw(t){const e=bt(t);return b_(e,O_(e))+1}function pw(t){const e=bt(t),n=+Po(e)-+R_(e);return Math.round(n/Gm)+1}function qm(t,e){var c,d,f,w;const n=bt(t),r=n.getFullYear(),i=dl(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((w=(f=i.locale)==null?void 0:f.options)==null?void 0:w.firstWeekContainsDate)??1,o=Kn(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=Ji(o,e),a=Kn(t,0);a.setFullYear(r,0,s),a.setHours(0,0,0,0);const u=Ji(a,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function mw(t,e){var l,a,u,c;const n=dl(),r=(e==null?void 0:e.firstWeekContainsDate)??((a=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:a.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=qm(t,e),s=Kn(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ji(s,e)}function gw(t,e){const n=bt(t),r=+Ji(n,e)-+mw(n,e);return Math.round(r/Gm)+1}function Z(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const sn={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Z(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Z(n+1,2)},d(t,e){return Z(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Z(t.getHours()%12||12,e.length)},H(t,e){return Z(t.getHours(),e.length)},m(t,e){return Z(t.getMinutes(),e.length)},s(t,e){return Z(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Z(i,e.length)}},ar={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Nh={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return sn.y(t,e)},Y:function(t,e,n,r){const i=qm(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Z(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Z(s,e.length)},R:function(t,e){const n=Ym(t);return Z(n,e.length)},u:function(t,e){const n=t.getFullYear();return Z(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Z(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Z(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return sn.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Z(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=gw(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Z(i,e.length)},I:function(t,e,n){const r=pw(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Z(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):sn.d(t,e)},D:function(t,e,n){const r=fw(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Z(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Z(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Z(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Z(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=ar.noon:r===0?i=ar.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=ar.evening:r>=12?i=ar.afternoon:r>=4?i=ar.morning:i=ar.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return sn.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):sn.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Z(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Z(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):sn.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):sn.s(t,e)},S:function(t,e){return sn.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Ih(r);case"XXXX":case"XX":return Ln(r);case"XXXXX":case"XXX":default:return Ln(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Ih(r);case"xxxx":case"xx":return Ln(r);case"xxxxx":case"xxx":default:return Ln(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Th(r,":");case"OOOO":default:return"GMT"+Ln(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Th(r,":");case"zzzz":default:return"GMT"+Ln(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Z(r,e.length)},T:function(t,e,n){const r=t.getTime();return Z(r,e.length)}};function Th(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Z(s,2)}function Ih(t,e){return t%60===0?(t>0?"-":"+")+Z(Math.abs(t)/60,2):Ln(t,e)}function Ln(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Z(Math.trunc(r/60),2),s=Z(r%60,2);return n+i+e+s}const Ph=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Km=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},yw=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Ph(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Ph(r,e)).replace("{{time}}",Km(i,e))},vw={p:Km,P:yw},_w=/^D+$/,ww=/^Y+$/,xw=["D","DD","YY","YYYY"];function Sw(t){return _w.test(t)}function Cw(t){return ww.test(t)}function Ew(t,e,n){const r=kw(t,e,n);if(console.warn(r),xw.includes(t))throw new RangeError(r)}function kw(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Nw=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Tw=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Iw=/^'([^]*?)'?$/,Pw=/''/g,bw=/[a-zA-Z]/;function ru(t,e,n){var c,d,f,w,v,x,T,y;const r=dl(),i=(n==null?void 0:n.locale)??r.locale??hw,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((w=(f=r.locale)==null?void 0:f.options)==null?void 0:w.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((x=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((y=(T=r.locale)==null?void 0:T.options)==null?void 0:y.weekStartsOn)??0,l=bt(t);if(!D_(l))throw new RangeError("Invalid time value");let a=e.match(Tw).map(p=>{const g=p[0];if(g==="p"||g==="P"){const S=vw[g];return S(p,i.formatLong)}return p}).join("").match(Nw).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const g=p[0];if(g==="'")return{isToken:!1,value:Rw(p)};if(Nh[g])return{isToken:!0,value:p};if(g.match(bw))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(a=i.localize.preprocessor(l,a));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return a.map(p=>{if(!p.isToken)return p.value;const g=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Cw(g)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Sw(g))&&Ew(g,e,String(t));const S=Nh[g[0]];return S(l,g,i.localize,u)}).join("")}function Rw(t){const e=t.match(Iw);return e?e[1].replace(Pw,"'"):t}const Mw={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},Dw=(t,e,n)=>{const r=Mw[t];let i;return typeof r=="string"?i=r:e===1?i=r.one:e===2?i=r.two:e<=10?i=r.threeToTen.replace("{{count}}",String(e)):i=r.other.replace("{{count}}",String(e)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+i:" "+i:i},Ow={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},Aw={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},Lw={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jw={date:br({formats:Ow,defaultWidth:"full"}),time:br({formats:Aw,defaultWidth:"full"}),dateTime:br({formats:Lw,defaultWidth:"full"})},Fw={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},zw=t=>Fw[t],Ww={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},Uw={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},Bw={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},$w={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},Vw={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},Hw={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},Gw=t=>String(t),Yw={ordinalNumber:Gw,era:At({values:Ww,defaultWidth:"wide"}),quarter:At({values:Uw,defaultWidth:"wide",argumentCallback:t=>t-1}),month:At({values:Bw,defaultWidth:"wide"}),day:At({values:$w,defaultWidth:"wide"}),dayPeriod:At({values:Vw,defaultWidth:"wide",formattingValues:Hw,defaultFormattingWidth:"wide"})},Qw=/^(\d+)(th|st|nd|rd)?/i,qw=/\d+/i,Kw={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},Xw={any:[//,//]},Jw={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},Zw={any:[/1/i,/2/i,/3/i,/4/i]},e1={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},t1={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},n1={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},r1={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},i1={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},s1={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},o1={ordinalNumber:Qm({matchPattern:Qw,parsePattern:qw,valueCallback:t=>parseInt(t,10)}),era:Lt({matchPatterns:Kw,defaultMatchWidth:"wide",parsePatterns:Xw,defaultParseWidth:"any"}),quarter:Lt({matchPatterns:Jw,defaultMatchWidth:"wide",parsePatterns:Zw,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Lt({matchPatterns:e1,defaultMatchWidth:"wide",parsePatterns:t1,defaultParseWidth:"any"}),day:Lt({matchPatterns:n1,defaultMatchWidth:"wide",parsePatterns:r1,defaultParseWidth:"any"}),dayPeriod:Lt({matchPatterns:i1,defaultMatchWidth:"any",parsePatterns:s1,defaultParseWidth:"any"})},iu={code:"ar",formatDistance:Dw,formatLong:jw,formatRelative:zw,localize:Yw,match:o1,options:{weekStartsOn:6,firstWeekContainsDate:1}},bh=()=>ru(new Date,"MMMM yyyy",{locale:iu});function l1(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),e&&(r.href=e),i.href=t,i.href}const a1=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function Yt(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}function bo(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function u1(t){const e=bo(t,"border-left-width"),n=bo(t,"border-right-width");return t.clientWidth+e+n}function c1(t){const e=bo(t,"border-top-width"),n=bo(t,"border-bottom-width");return t.clientHeight+e+n}function Xm(t,e={}){const n=e.width||u1(t),r=e.height||c1(t);return{width:n,height:r}}function d1(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const nt=16384;function h1(t){(t.width>nt||t.height>nt)&&(t.width>nt&&t.height>nt?t.width>t.height?(t.height*=nt/t.width,t.width=nt):(t.width*=nt/t.height,t.height=nt):t.width>nt?(t.height*=nt/t.width,t.width=nt):(t.width*=nt/t.height,t.height=nt))}function Ro(t){return new Promise((e,n)=>{const r=new Image;r.decode=()=>e(r),r.onload=()=>e(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function f1(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function p1(t,e,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${e}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${e} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),i.appendChild(s),s.appendChild(t),f1(i)}const tt=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||tt(n,e)};function m1(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function g1(t){return Yt(t).map(e=>{const n=t.getPropertyValue(e),r=t.getPropertyPriority(e);return`${e}: ${n}${r?" !important":""};`}).join(" ")}function y1(t,e,n){const r=`.${t}:${e}`,i=n.cssText?m1(n):g1(n);return document.createTextNode(`${r}{${i}}`)}function Rh(t,e,n){const r=window.getComputedStyle(t,n),i=r.getPropertyValue("content");if(i===""||i==="none")return;const s=a1();try{e.className=`${e.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(y1(s,n,r)),e.appendChild(o)}function v1(t,e){Rh(t,e,":before"),Rh(t,e,":after")}const Mh="application/font-woff",Dh="image/jpeg",_1={woff:Mh,woff2:Mh,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Dh,jpeg:Dh,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function w1(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function wc(t){const e=w1(t).toLowerCase();return _1[e]||""}function x1(t){return t.split(/,/)[1]}function su(t){return t.search(/^(data:)/)!==-1}function S1(t,e){return`data:${e};base64,${t}`}async function Jm(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((s,o)=>{const l=new FileReader;l.onerror=o,l.onloadend=()=>{try{s(n({res:r,result:l.result}))}catch(a){o(a)}},l.readAsDataURL(i)})}const Zl={};function C1(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function xc(t,e,n){const r=C1(t,e,n.includeQueryParams);if(Zl[r]!=null)return Zl[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let i;try{const s=await Jm(t,n.fetchRequestInit,({res:o,result:l})=>(e||(e=o.headers.get("Content-Type")||""),x1(l)));i=S1(s,e)}catch(s){i=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${t}`;s&&(o=typeof s=="string"?s:s.message),o&&console.warn(o)}return Zl[r]=i,i}async function E1(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):Ro(e)}async function k1(t,e){if(t.currentSrc){const s=document.createElement("canvas"),o=s.getContext("2d");s.width=t.clientWidth,s.height=t.clientHeight,o==null||o.drawImage(t,0,0,s.width,s.height);const l=s.toDataURL();return Ro(l)}const n=t.poster,r=wc(n),i=await xc(n,r,e);return Ro(i)}async function N1(t){var e;try{if(!((e=t==null?void 0:t.contentDocument)===null||e===void 0)&&e.body)return await hl(t.contentDocument.body,{},!0)}catch{}return t.cloneNode(!1)}async function T1(t,e){return tt(t,HTMLCanvasElement)?E1(t):tt(t,HTMLVideoElement)?k1(t,e):tt(t,HTMLIFrameElement)?N1(t):t.cloneNode(!1)}const I1=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT";async function P1(t,e,n){var r,i;let s=[];return I1(t)&&t.assignedNodes?s=Yt(t.assignedNodes()):tt(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?s=Yt(t.contentDocument.body.childNodes):s=Yt(((i=t.shadowRoot)!==null&&i!==void 0?i:t).childNodes),s.length===0||tt(t,HTMLVideoElement)||await s.reduce((o,l)=>o.then(()=>hl(l,n)).then(a=>{a&&e.appendChild(a)}),Promise.resolve()),e}function b1(t,e){const n=e.style;if(!n)return;const r=window.getComputedStyle(t);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):Yt(r).forEach(i=>{let s=r.getPropertyValue(i);i==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),tt(t,HTMLIFrameElement)&&i==="display"&&s==="inline"&&(s="block"),i==="d"&&e.getAttribute("d")&&(s=`path(${e.getAttribute("d")})`),n.setProperty(i,s,r.getPropertyPriority(i))})}function R1(t,e){tt(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),tt(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function M1(t,e){if(tt(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(i=>t.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function D1(t,e){return tt(e,Element)&&(b1(t,e),v1(t,e),R1(t,e),M1(t,e)),e}async function O1(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let s=0;s<n.length;s++){const l=n[s].getAttribute("xlink:href");if(l){const a=t.querySelector(l),u=document.querySelector(l);!a&&u&&!r[l]&&(r[l]=await hl(u,e,!0))}}const i=Object.values(r);if(i.length){const s="http://www.w3.org/1999/xhtml",o=document.createElementNS(s,"svg");o.setAttribute("xmlns",s),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const l=document.createElementNS(s,"defs");o.appendChild(l);for(let a=0;a<i.length;a++)l.appendChild(i[a]);t.appendChild(o)}return t}async function hl(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>T1(r,e)).then(r=>P1(t,r,e)).then(r=>D1(t,r)).then(r=>O1(r,e))}const Zm=/url\((['"]?)([^'"]+?)\1\)/g,A1=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,L1=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function j1(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function F1(t){const e=[];return t.replace(Zm,(n,r,i)=>(e.push(i),n)),e.filter(n=>!su(n))}async function z1(t,e,n,r,i){try{const s=n?l1(e,n):e,o=wc(e);let l;return i||(l=await xc(s,o,r)),t.replace(j1(e),`$1${l}$3`)}catch{}return t}function W1(t,{preferredFontFormat:e}){return e?t.replace(L1,n=>{for(;;){const[r,,i]=A1.exec(n)||[];if(!i)return"";if(i===e)return`src: ${r};`}}):t}function eg(t){return t.search(Zm)!==-1}async function tg(t,e,n){if(!eg(t))return t;const r=W1(t,n);return F1(r).reduce((s,o)=>s.then(l=>z1(l,o,e,n)),Promise.resolve(r))}async function Bs(t,e,n){var r;const i=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(i){const s=await tg(i,null,n);return e.style.setProperty(t,s,e.style.getPropertyPriority(t)),!0}return!1}async function U1(t,e){await Bs("background",t,e)||await Bs("background-image",t,e),await Bs("mask",t,e)||await Bs("mask-image",t,e)}async function B1(t,e){const n=tt(t,HTMLImageElement);if(!(n&&!su(t.src))&&!(tt(t,SVGImageElement)&&!su(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,i=await xc(r,wc(r),e);await new Promise((s,o)=>{t.onload=s,t.onerror=o;const l=t;l.decode&&(l.decode=s),l.loading==="lazy"&&(l.loading="eager"),n?(t.srcset="",t.src=i):t.href.baseVal=i})}async function $1(t,e){const r=Yt(t.childNodes).map(i=>ng(i,e));await Promise.all(r).then(()=>t)}async function ng(t,e){tt(t,Element)&&(await U1(t,e),await B1(t,e),await $1(t,e))}function V1(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),t}const Oh={};async function Ah(t){let e=Oh[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},Oh[t]=e,e}async function Lh(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async o=>{let l=o.replace(r,"$1");return l.startsWith("https://")||(l=new URL(l,t.url).href),Jm(l,e.fetchRequestInit,({result:a})=>(n=n.replace(o,`url(${a})`),[o,a]))});return Promise.all(s).then(()=>n)}function jh(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const a=i.exec(r);if(a===null)break;e.push(a[0])}r=r.replace(i,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",l=new RegExp(o,"gi");for(;;){let a=s.exec(r);if(a===null){if(a=l.exec(r),a===null)break;s.lastIndex=l.lastIndex}else l.lastIndex=s.lastIndex;e.push(a[0])}return e}async function H1(t,e){const n=[],r=[];return t.forEach(i=>{if("cssRules"in i)try{Yt(i.cssRules||[]).forEach((s,o)=>{if(s.type===CSSRule.IMPORT_RULE){let l=o+1;const a=s.href,u=Ah(a).then(c=>Lh(c,e)).then(c=>jh(c).forEach(d=>{try{i.insertRule(d,d.startsWith("@import")?l+=1:i.cssRules.length)}catch(f){console.error("Error inserting rule from remote css",{rule:d,error:f})}})).catch(c=>{console.error("Error loading remote css",c.toString())});r.push(u)}})}catch(s){const o=t.find(l=>l.href==null)||document.styleSheets[0];i.href!=null&&r.push(Ah(i.href).then(l=>Lh(l,e)).then(l=>jh(l).forEach(a=>{o.insertRule(a,i.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",s)}}),Promise.all(r).then(()=>(t.forEach(i=>{if("cssRules"in i)try{Yt(i.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${i.href}`,s)}}),n))}function G1(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>eg(e.style.getPropertyValue("src")))}async function Y1(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Yt(t.ownerDocument.styleSheets),r=await H1(n,e);return G1(r)}async function Q1(t,e){const n=await Y1(t,e);return(await Promise.all(n.map(i=>{const s=i.parentStyleSheet?i.parentStyleSheet.href:null;return tg(i.cssText,s,e)}))).join(`
`)}async function q1(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Q1(t,e);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function K1(t,e={}){const{width:n,height:r}=Xm(t,e),i=await hl(t,e,!0);return await q1(i,e),await ng(i,e),V1(i,e),await p1(i,n,r)}async function X1(t,e={}){const{width:n,height:r}=Xm(t,e),i=await K1(t,e),s=await Ro(i),o=document.createElement("canvas"),l=o.getContext("2d"),a=e.pixelRatio||d1(),u=e.canvasWidth||n,c=e.canvasHeight||r;return o.width=u*a,o.height=c*a,e.skipAutoScale||h1(o),o.style.width=`${u}`,o.style.height=`${c}`,e.backgroundColor&&(l.fillStyle=e.backgroundColor,l.fillRect(0,0,o.width,o.height)),l.drawImage(s,0,0,o.width,o.height),o}async function J1(t,e={}){return(await X1(t,e)).toDataURL()}const Z1=({players:t})=>{const e=B.useRef(null),n=[...t].sort((l,a)=>{const u=cr(l);return cr(a).winRate-u.winRate}),r=async()=>{if(e.current)try{const l=await J1(e.current,{quality:1,backgroundColor:"#ffffff"}),a=document.createElement("a");a.download=`leaderboard-${bh()}.png`,a.href=l,a.click()}catch(l){console.error("Error generating image:",l)}},i=(l,a)=>{if(l===0)return 1;const u=cr(a),c=cr(n[l-1]);return Math.abs(u.winRate-c.winRate)<.01?i(l-1,n[l-1]):l+1},s=l=>{switch(l){case 1:return{background:"bg-gradient-to-r from-yellow-400 to-yellow-500",medal:h.jsx(Jl,{className:"text-yellow-400",size:24}),text:"text-yellow-900"};case 2:return{background:"bg-gradient-to-r from-gray-300 to-gray-400",medal:h.jsx(Jl,{className:"text-gray-400",size:24}),text:"text-gray-900"};case 3:return{background:"bg-gradient-to-r from-amber-600 to-amber-700",medal:h.jsx(Jl,{className:"text-amber-600",size:24}),text:"text-amber-900"};default:return{background:"bg-gradient-to-r from-blue-500 to-blue-600",medal:null,text:"text-white"}}},o=bh();return h.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-6 transform hover:scale-[1.01] transition-all duration-300",ref:e,children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-800 flex items-center gap-2",children:[h.jsx(Xi,{className:"text-yellow-500"}),h.jsxs("span",{children:[" ",o]})]}),h.jsx("button",{onClick:r,className:"text-gray-600 hover:text-gray-800 transition-colors",title:" ",children:h.jsx(y_,{size:20})})]}),h.jsx("div",{className:"space-y-4",children:n.map((l,a)=>{const u=cr(l),c=i(a,l),d=s(c);return h.jsx("div",{className:"bg-white rounded-lg p-4 hover:shadow-lg transition-all duration-300 transform hover:scale-[1.01] border border-gray-100",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:`w-10 h-10 rounded-full ${d.background} flex items-center justify-center ${d.text} font-bold`,children:["#",c]}),h.jsxs("div",{className:"flex items-center gap-3",children:[l.imageUrl&&h.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-gray-200",children:h.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-full h-full object-cover",onError:f=>{f.currentTarget.src="https://via.placeholder.com/100?text="}})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-800",children:l.name}),h.jsxs("p",{className:"text-sm text-gray-600",children:[u.totalGames," "]})]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[u.winRate.toFixed(1),"%"]}),h.jsxs("div",{className:"text-sm text-gray-600",children:[l.wins,"W - ",l.losses,"L"]})]})]})},l.id)})})]})},Sc={othman:"8CA6D8HQ",ahmed:"THYUTPSL",khaled:"8VY2DDWB",rizq:"W3KLGAOS",mishari:"Z3V3MDPZ",mohanned:"I4GOXZ8G"},ex=t=>{const e=t.toLowerCase().trim();return Sc[e]||""},tx=(t,e)=>{var s;const n=e.toUpperCase().trim(),r=(s=Object.entries(Sc).find(([o,l])=>l===n))==null?void 0:s[0];if(!r)return null;const i=t.find(o=>o.name.toLowerCase().trim()===r.toLowerCase());return(i==null?void 0:i.id)||null},nx=t=>t.toLowerCase().trim()in Sc,rx=({onAddPlayer:t})=>{const[e,n]=B.useState(""),[r,i]=B.useState(""),[s,o]=B.useState(""),l=a=>{a.preventDefault();const u=e.trim();if(!u){o("   ");return}if(!nx(u)){o("       ");return}const c=ex(u);t(u,c),i(c),n(""),o("")};return h.jsxs("div",{children:[h.jsxs("form",{onSubmit:l,className:"flex gap-2 mb-4",children:[h.jsx("input",{type:"text",value:e,onChange:a=>{n(a.target.value),o("")},placeholder:" ",className:"flex-1 px-4 py-2 rounded border border-gray-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-200 outline-none"}),h.jsxs("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-all flex items-center gap-2",children:[h.jsx(x_,{size:18}),""]})]}),s&&h.jsxs("div",{className:"flex items-center gap-2 text-red-500 bg-red-50 p-3 rounded-lg mb-4",children:[h.jsx(Vm,{size:18}),h.jsx("p",{className:"text-sm",children:s})]}),r&&h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-4",children:[h.jsx("p",{className:"text-yellow-800 font-semibold mb-2",children:"  :"}),h.jsx("div",{className:"bg-white p-3 rounded border border-yellow-300 text-center",children:h.jsx("span",{className:"text-2xl font-mono font-bold text-yellow-900",children:r})}),h.jsx("p",{className:"text-sm text-yellow-700 mt-2",children:"        ."})]})]})},Fh=({isOpen:t,title:e,message:n,onConfirm:r,onCancel:i})=>t?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:e}),h.jsx("p",{className:"text-gray-600 mb-6",children:n}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{onClick:i,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:""}),h.jsx("button",{onClick:r,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:""})]})]})}):null,ix="oth90600",sx=({isEditMode:t,onToggle:e,onResetScores:n})=>{const[r,i]=B.useState(!1),[s,o]=B.useState(!1),[l,a]=B.useState(""),[u,c]=B.useState(null),d=()=>{l===ix?(c(null),e(!0),i(!1),a("")):c("   ")},f=()=>{e(!1),a(""),c(null)},w=()=>{n(),o(!1)};return s?h.jsxs("div",{className:"flex gap-2 items-center",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"   "}),h.jsx("button",{onClick:w,className:"px-3 py-1.5 bg-red-500 text-white rounded hover:bg-red-600 transition-all text-sm",children:""}),h.jsx("button",{onClick:()=>o(!1),className:"px-3 py-1.5 bg-gray-200 text-gray-600 rounded hover:bg-gray-300 transition-all text-sm",children:""})]}):t?h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-1 px-3 py-1.5 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-all text-sm",children:[h.jsx(Hm,{size:16})," "]}),h.jsxs("button",{onClick:f,className:"flex items-center gap-1 px-3 py-1.5 bg-purple-100 text-purple-700 rounded hover:bg-purple-200 transition-all text-sm",children:[h.jsx(Sh,{size:16})," "]})]}):r?h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"password",value:l,onChange:v=>a(v.target.value),placeholder:"  ",className:"px-3 py-1.5 border rounded text-sm focus:outline-none focus:ring-1 focus:ring-purple-500",onKeyDown:v=>{v.key==="Enter"?d():v.key==="Escape"&&(i(!1),a(""),c(null))}}),h.jsx("button",{onClick:d,className:"px-3 py-1.5 bg-purple-500 text-white rounded hover:bg-purple-600 transition-all text-sm",children:""}),h.jsx("button",{onClick:()=>{i(!1),a(""),c(null)},className:"px-3 py-1.5 bg-gray-200 text-gray-600 rounded hover:bg-gray-300 transition-all text-sm",children:""})]}),u&&h.jsxs("div",{className:"absolute top-full right-0 mt-1 flex items-center gap-1 text-red-500 text-sm",children:[h.jsx(Vm,{size:14}),h.jsx("span",{children:u})]})]}):h.jsx("button",{onClick:()=>i(!0),className:"flex items-center gap-1 px-3 py-1.5 bg-purple-500 text-white rounded hover:bg-purple-600 transition-all text-sm",children:h.jsx(Sh,{size:16})})},ox=({players:t,onSelect:e,selectedTeam1:n,selectedTeam2:r})=>{const[i,s]=ks.useState((n==null?void 0:n[0])||""),[o,l]=ks.useState((n==null?void 0:n[1])||""),[a,u]=ks.useState((r==null?void 0:r[0])||""),[c,d]=ks.useState((r==null?void 0:r[1])||""),f=v=>{v.preventDefault(),i&&o&&a&&c&&e([i,o],[a,c])},w=new Set([i,o,a,c].filter(Boolean));return h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl shadow-lg p-8 max-w-2xl mx-auto text-white",dir:"ltr",children:[h.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Select Teams"}),h.jsxs("form",{onSubmit:f,className:"space-y-8",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-blue-400",children:"Team 1"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Player 1"}),h.jsxs("select",{value:i,onChange:v=>s(v.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white",children:[h.jsx("option",{value:"",children:"Select Player"}),t.map(v=>h.jsx("option",{value:v.id,disabled:w.has(v.id)&&v.id!==i,children:v.name},v.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Player 2"}),h.jsxs("select",{value:o,onChange:v=>l(v.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white",children:[h.jsx("option",{value:"",children:"Select Player"}),t.map(v=>h.jsx("option",{value:v.id,disabled:w.has(v.id)&&v.id!==o,children:v.name},v.id))]})]})]})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-red-400",children:"Team 2"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Player 1"}),h.jsxs("select",{value:a,onChange:v=>u(v.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white",children:[h.jsx("option",{value:"",children:"Select Player"}),t.map(v=>h.jsx("option",{value:v.id,disabled:w.has(v.id)&&v.id!==a,children:v.name},v.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Player 2"}),h.jsxs("select",{value:c,onChange:v=>d(v.target.value),className:"w-full p-3 bg-gray-700 border border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-white",children:[h.jsx("option",{value:"",children:"Select Player"}),t.map(v=>h.jsx("option",{value:v.id,disabled:w.has(v.id)&&v.id!==c,children:v.name},v.id))]})]})]})]}),h.jsx("button",{type:"submit",disabled:!i||!o||!a||!c,className:"w-full py-4 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg hover:from-blue-700 hover:to-blue-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-semibold text-lg",children:"Start Match"})]})]})},lx=({onSave:t,onClose:e})=>{const[n,r]=B.useState(3),i=s=>{s.preventDefault(),t(n)};return h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 max-w-2xl mx-auto",dir:"ltr",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[h.jsx(g_,{className:"text-gray-600"}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Match Settings"})]}),h.jsxs("form",{onSubmit:i,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Games to Win"}),h.jsxs("select",{value:n,onChange:s=>r(Number(s.target.value)),className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[h.jsx("option",{value:3,children:"3 Games"}),h.jsx("option",{value:6,children:"6 Games"})]})]}),h.jsxs("div",{className:"flex justify-end gap-4",children:[h.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),h.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Start Match"})]})]})]})};var ms={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=function(){if(!e.OffscreenCanvas)return!1;var _=new OffscreenCanvas(1,1),m=_.getContext("2d");m.fillRect(0,0,1,1);var I=_.transferToImageBitmap();try{m.createPattern(I,"no-repeat")}catch{return!1}return!0}();function a(){}function u(_){var m=n.exports.Promise,I=m!==void 0?m:e.Promise;return typeof I=="function"?new I(_):(_(a,a),null)}var c=function(_,m){return{transform:function(I){if(_)return I;if(m.has(I))return m.get(I);var A=new OffscreenCanvas(I.width,I.height),F=A.getContext("2d");return F.drawImage(I,0,0),m.set(I,A),A},clear:function(){m.clear()}}}(l,new Map),d=function(){var _=Math.floor(16.666666666666668),m,I,A={},F=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(m=function($){var W=Math.random();return A[W]=requestAnimationFrame(function O(Y){F===Y||F+_-1<Y?(F=Y,delete A[W],$()):A[W]=requestAnimationFrame(O)}),W},I=function($){A[$]&&cancelAnimationFrame(A[$])}):(m=function($){return setTimeout($,_)},I=function($){return clearTimeout($)}),{frame:m,cancel:I}}(),f=function(){var _,m,I={};function A(F){function $(W,O){F.postMessage({options:W||{},callback:O})}F.init=function(O){var Y=O.transferControlToOffscreen();F.postMessage({canvas:Y},[Y])},F.fire=function(O,Y,re){if(m)return $(O,null),m;var ge=Math.random().toString(36).slice(2);return m=u(function(ue){function ye(Me){Me.data.callback===ge&&(delete I[ge],F.removeEventListener("message",ye),m=null,c.clear(),re(),ue())}F.addEventListener("message",ye),$(O,ge),I[ge]=ye.bind(null,{data:{callback:ge}})}),m},F.reset=function(){F.postMessage({reset:!0});for(var O in I)I[O](),delete I[O]}}return function(){if(_)return _;if(!r&&s){var F=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{_=new Worker(URL.createObjectURL(new Blob([F])))}catch($){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",$),null}A(_)}return _}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(_,m){return m?m(_):_}function x(_){return _!=null}function T(_,m,I){return v(_&&x(_[m])?_[m]:w[m],I)}function y(_){return _<0?0:Math.floor(_)}function p(_,m){return Math.floor(Math.random()*(m-_))+_}function g(_){return parseInt(_,16)}function S(_){return _.map(P)}function P(_){var m=String(_).replace(/[^0-9a-f]/gi,"");return m.length<6&&(m=m[0]+m[0]+m[1]+m[1]+m[2]+m[2]),{r:g(m.substring(0,2)),g:g(m.substring(2,4)),b:g(m.substring(4,6))}}function D(_){var m=T(_,"origin",Object);return m.x=T(m,"x",Number),m.y=T(m,"y",Number),m}function M(_){_.width=document.documentElement.clientWidth,_.height=document.documentElement.clientHeight}function N(_){var m=_.getBoundingClientRect();_.width=m.width,_.height=m.height}function z(_){var m=document.createElement("canvas");return m.style.position="fixed",m.style.top="0px",m.style.left="0px",m.style.pointerEvents="none",m.style.zIndex=_,m}function E(_,m,I,A,F,$,W,O,Y){_.save(),_.translate(m,I),_.rotate($),_.scale(A,F),_.arc(0,0,1,W,O,Y),_.restore()}function j(_){var m=_.angle*(Math.PI/180),I=_.spread*(Math.PI/180);return{x:_.x,y:_.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:_.startVelocity*.5+Math.random()*_.startVelocity,angle2D:-m+(.5*I-Math.random()*I),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:_.color,shape:_.shape,tick:0,totalTicks:_.ticks,decay:_.decay,drift:_.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:_.gravity*3,ovalScalar:.6,scalar:_.scalar,flat:_.flat}}function J(_,m){m.x+=Math.cos(m.angle2D)*m.velocity+m.drift,m.y+=Math.sin(m.angle2D)*m.velocity+m.gravity,m.velocity*=m.decay,m.flat?(m.wobble=0,m.wobbleX=m.x+10*m.scalar,m.wobbleY=m.y+10*m.scalar,m.tiltSin=0,m.tiltCos=0,m.random=1):(m.wobble+=m.wobbleSpeed,m.wobbleX=m.x+10*m.scalar*Math.cos(m.wobble),m.wobbleY=m.y+10*m.scalar*Math.sin(m.wobble),m.tiltAngle+=.1,m.tiltSin=Math.sin(m.tiltAngle),m.tiltCos=Math.cos(m.tiltAngle),m.random=Math.random()+2);var I=m.tick++/m.totalTicks,A=m.x+m.random*m.tiltCos,F=m.y+m.random*m.tiltSin,$=m.wobbleX+m.random*m.tiltCos,W=m.wobbleY+m.random*m.tiltSin;if(_.fillStyle="rgba("+m.color.r+", "+m.color.g+", "+m.color.b+", "+(1-I)+")",_.beginPath(),o&&m.shape.type==="path"&&typeof m.shape.path=="string"&&Array.isArray(m.shape.matrix))_.fill(ni(m.shape.path,m.shape.matrix,m.x,m.y,Math.abs($-A)*.1,Math.abs(W-F)*.1,Math.PI/10*m.wobble));else if(m.shape.type==="bitmap"){var O=Math.PI/10*m.wobble,Y=Math.abs($-A)*.1,re=Math.abs(W-F)*.1,ge=m.shape.bitmap.width*m.scalar,ue=m.shape.bitmap.height*m.scalar,ye=new DOMMatrix([Math.cos(O)*Y,Math.sin(O)*Y,-Math.sin(O)*re,Math.cos(O)*re,m.x,m.y]);ye.multiplySelf(new DOMMatrix(m.shape.matrix));var Me=_.createPattern(c.transform(m.shape.bitmap),"no-repeat");Me.setTransform(ye),_.globalAlpha=1-I,_.fillStyle=Me,_.fillRect(m.x-ge/2,m.y-ue/2,ge,ue),_.globalAlpha=1}else if(m.shape==="circle")_.ellipse?_.ellipse(m.x,m.y,Math.abs($-A)*m.ovalScalar,Math.abs(W-F)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI):E(_,m.x,m.y,Math.abs($-A)*m.ovalScalar,Math.abs(W-F)*m.ovalScalar,Math.PI/10*m.wobble,0,2*Math.PI);else if(m.shape==="star")for(var q=Math.PI/2*3,Qe=4*m.scalar,yt=8*m.scalar,vt=m.x,Wt=m.y,Dn=5,Rt=Math.PI/Dn;Dn--;)vt=m.x+Math.cos(q)*yt,Wt=m.y+Math.sin(q)*yt,_.lineTo(vt,Wt),q+=Rt,vt=m.x+Math.cos(q)*Qe,Wt=m.y+Math.sin(q)*Qe,_.lineTo(vt,Wt),q+=Rt;else _.moveTo(Math.floor(m.x),Math.floor(m.y)),_.lineTo(Math.floor(m.wobbleX),Math.floor(F)),_.lineTo(Math.floor($),Math.floor(W)),_.lineTo(Math.floor(A),Math.floor(m.wobbleY));return _.closePath(),_.fill(),m.tick<m.totalTicks}function te(_,m,I,A,F){var $=m.slice(),W=_.getContext("2d"),O,Y,re=u(function(ge){function ue(){O=Y=null,W.clearRect(0,0,A.width,A.height),c.clear(),F(),ge()}function ye(){r&&!(A.width===i.width&&A.height===i.height)&&(A.width=_.width=i.width,A.height=_.height=i.height),!A.width&&!A.height&&(I(_),A.width=_.width,A.height=_.height),W.clearRect(0,0,A.width,A.height),$=$.filter(function(Me){return J(W,Me)}),$.length?O=d.frame(ye):ue()}O=d.frame(ye),Y=ue});return{addFettis:function(ge){return $=$.concat(ge),re},canvas:_,promise:re,reset:function(){O&&d.cancel(O),Y&&Y()}}}function ae(_,m){var I=!_,A=!!T(m||{},"resize"),F=!1,$=T(m,"disableForReducedMotion",Boolean),W=s&&!!T(m||{},"useWorker"),O=W?f():null,Y=I?M:N,re=_&&O?!!_.__confetti_initialized:!1,ge=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,ue;function ye(q,Qe,yt){for(var vt=T(q,"particleCount",y),Wt=T(q,"angle",Number),Dn=T(q,"spread",Number),Rt=T(q,"startVelocity",Number),Py=T(q,"decay",Number),by=T(q,"gravity",Number),Ry=T(q,"drift",Number),ld=T(q,"colors",S),My=T(q,"ticks",Number),ad=T(q,"shapes"),Dy=T(q,"scalar"),Oy=!!T(q,"flat"),ud=D(q),cd=vt,kl=[],Ay=_.width*ud.x,Ly=_.height*ud.y;cd--;)kl.push(j({x:Ay,y:Ly,angle:Wt,spread:Dn,startVelocity:Rt,color:ld[cd%ld.length],shape:ad[p(0,ad.length)],ticks:My,decay:Py,gravity:by,drift:Ry,scalar:Dy,flat:Oy}));return ue?ue.addFettis(kl):(ue=te(_,kl,Y,Qe,yt),ue.promise)}function Me(q){var Qe=$||T(q,"disableForReducedMotion",Boolean),yt=T(q,"zIndex",Number);if(Qe&&ge)return u(function(Rt){Rt()});I&&ue?_=ue.canvas:I&&!_&&(_=z(yt),document.body.appendChild(_)),A&&!re&&Y(_);var vt={width:_.width,height:_.height};O&&!re&&O.init(_),re=!0,O&&(_.__confetti_initialized=!0);function Wt(){if(O){var Rt={getBoundingClientRect:function(){if(!I)return _.getBoundingClientRect()}};Y(Rt),O.postMessage({resize:{width:Rt.width,height:Rt.height}});return}vt.width=vt.height=null}function Dn(){ue=null,A&&(F=!1,e.removeEventListener("resize",Wt)),I&&_&&(document.body.contains(_)&&document.body.removeChild(_),_=null,re=!1)}return A&&!F&&(F=!0,e.addEventListener("resize",Wt,!1)),O?O.fire(q,vt,Dn):ye(q,vt,Dn)}return Me.reset=function(){O&&O.reset(),ue&&ue.reset()},Me}var ti;function or(){return ti||(ti=ae(null,{useWorker:!0,resize:!0})),ti}function ni(_,m,I,A,F,$,W){var O=new Path2D(_),Y=new Path2D;Y.addPath(O,new DOMMatrix(m));var re=new Path2D;return re.addPath(Y,new DOMMatrix([Math.cos(W)*F,Math.sin(W)*F,-Math.sin(W)*$,Math.cos(W)*$,I,A])),re}function b(_){if(!o)throw new Error("path confetti are not supported in this browser");var m,I;typeof _=="string"?m=_:(m=_.path,I=_.matrix);var A=new Path2D(m),F=document.createElement("canvas"),$=F.getContext("2d");if(!I){for(var W=1e3,O=W,Y=W,re=0,ge=0,ue,ye,Me=0;Me<W;Me+=2)for(var q=0;q<W;q+=2)$.isPointInPath(A,Me,q,"nonzero")&&(O=Math.min(O,Me),Y=Math.min(Y,q),re=Math.max(re,Me),ge=Math.max(ge,q));ue=re-O,ye=ge-Y;var Qe=10,yt=Math.min(Qe/ue,Qe/ye);I=[yt,0,0,yt,-Math.round(ue/2+O)*yt,-Math.round(ye/2+Y)*yt]}return{type:"path",path:m,matrix:I}}function U(_){var m,I=1,A="#000000",F='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof _=="string"?m=_:(m=_.text,I="scalar"in _?_.scalar:I,F="fontFamily"in _?_.fontFamily:F,A="color"in _?_.color:A);var $=10*I,W=""+$+"px "+F,O=new OffscreenCanvas($,$),Y=O.getContext("2d");Y.font=W;var re=Y.measureText(m),ge=Math.ceil(re.actualBoundingBoxRight+re.actualBoundingBoxLeft),ue=Math.ceil(re.actualBoundingBoxAscent+re.actualBoundingBoxDescent),ye=2,Me=re.actualBoundingBoxLeft+ye,q=re.actualBoundingBoxAscent+ye;ge+=ye+ye,ue+=ye+ye,O=new OffscreenCanvas(ge,ue),Y=O.getContext("2d"),Y.font=W,Y.fillStyle=A,Y.fillText(m,Me,q);var Qe=1/I;return{type:"bitmap",bitmap:O.transferToImageBitmap(),matrix:[Qe,0,0,Qe,-ge*Qe/2,-ue*Qe/2]}}n.exports=function(){return or().apply(this,arguments)},n.exports.reset=function(){or().reset()},n.exports.create=ae,n.exports.shapeFromPath=b,n.exports.shapeFromText=U})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ms,!1);const zh=ms.exports;ms.exports.create;const ax=({winners:t,onClose:e})=>(B.useEffect(()=>{const r=Date.now()+3e3,i=()=>{zh({particleCount:2,angle:60,spread:55,origin:{x:0},colors:["#FFD700","#FFA500","#FF4500"]}),zh({particleCount:2,angle:120,spread:55,origin:{x:1},colors:["#FFD700","#FFA500","#FF4500"]}),Date.now()<r&&requestAnimationFrame(i)};i();const s=setTimeout(e,3e3);return()=>clearTimeout(s)},[]),h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",dir:"ltr",children:h.jsxs("div",{className:"bg-gradient-to-br from-yellow-500 to-yellow-600 p-8 rounded-xl shadow-2xl text-center max-w-md mx-4 transform animate-bounce",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx(Xi,{className:"text-yellow-100 w-16 h-16"})}),h.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"!"}),h.jsx("div",{className:"text-xl text-yellow-100 mb-6",children:t.map((n,r)=>h.jsx("div",{className:"font-semibold",children:n},r))}),h.jsxs("div",{className:"flex justify-center gap-2 text-yellow-100 animate-pulse",children:[h.jsx(xh,{}),h.jsx("span",{children:"Won the Match!"}),h.jsx(xh,{})]})]})})),ux=["0","15","30","40","Ad"],cx=({players:t,onMatchComplete:e})=>{const[n,r]=B.useState(null),[i,s]=B.useState(!1),[o,l]=B.useState(!0),[a,u]=B.useState(!1),[c,d]=B.useState([]),[f,w]=B.useState([]),[v,x]=B.useState(null),T=(N,z)=>{const E=N.map(J=>{var te;return((te=t.find(ae=>ae.id===J))==null?void 0:te.name)||""}),j=z.map(J=>{var te;return((te=t.find(ae=>ae.id===J))==null?void 0:te.name)||""});l(!1),s(!0),r({id:crypto.randomUUID(),team1:{player1:E[0],player2:E[1],player1Id:N[0],player2Id:N[1]},team2:{player1:j[0],player2:j[1],player1Id:z[0],player2Id:z[1]},sets:[{team1Games:0,team2Games:0,completed:!1}],currentSet:0,currentGame:{team1Points:0,team2Points:0},createdAt:new Date().toISOString(),lastUpdated:new Date().toISOString(),gamesToWin:3})},y=N=>{n&&(r({...n,gamesToWin:N}),s(!1))},p=N=>{if(!n)return"0";const z=N===1?n.currentGame.team1Points:n.currentGame.team2Points,E=N===1?n.currentGame.team2Points:n.currentGame.team1Points;return z>=3&&E>=3?z===E?"40":z>E?"Ad":"40":ux[z]||"0"},g=N=>{if(!n)return;x(N),setTimeout(()=>x(null),500);const z={...n},E={...z.currentGame},j={...z.sets[z.currentSet]};w(ae=>[...ae,{...E}]),N===1?E.team1Points++:E.team2Points++;const J=E.team1Points,te=E.team2Points;J>=4&&J>=te+2?(j.team1Games++,E.team1Points=0,E.team2Points=0):te>=4&&te>=J+2?(j.team2Games++,E.team1Points=0,E.team2Points=0):J>=3&&te>=3&&(J>te+1?(j.team1Games++,E.team1Points=0,E.team2Points=0):te>J+1&&(j.team2Games++,E.team1Points=0,E.team2Points=0)),j.team1Games>=n.gamesToWin?(j.completed=!0,j.winner=1,u(!0),d([n.team1.player1Id,n.team1.player2Id]),e([n.team1.player1Id,n.team1.player2Id],[n.team2.player1Id,n.team2.player2Id])):j.team2Games>=n.gamesToWin&&(j.completed=!0,j.winner=2,u(!0),d([n.team2.player1Id,n.team2.player2Id]),e([n.team2.player1Id,n.team2.player2Id],[n.team1.player1Id,n.team1.player2Id])),z.currentGame=E,z.sets[z.currentSet]=j,z.lastUpdated=new Date().toISOString(),r(z)},S=()=>{if(!n||f.length===0)return;const N={...n},z=f[f.length-1];N.currentGame={...z},r(N),w(E=>E.slice(0,-1))},P=()=>{if(!n)return;const N={...n};N.currentGame={team1Points:0,team2Points:0},r(N),w([])},D=()=>{l(!0),r(null),w([]),d([])};if(o)return h.jsx(ox,{players:t,onSelect:T});if(i)return h.jsx(lx,{onSave:y,onClose:()=>s(!1)});if(!n)return null;const M=n.sets[n.currentSet];return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"tennis-card rounded-2xl shadow-2xl p-6 text-white relative overflow-hidden transform hover:scale-[1.01] transition-all duration-300",children:h.jsxs("div",{className:"relative z-10",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400",children:"Tennis Scorer"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:P,className:"p-2 text-gray-400 hover:text-white transition-all rounded-full hover:bg-white/10",title:" ",children:h.jsx(Hm,{size:20})}),h.jsx("button",{onClick:S,disabled:f.length===0,className:"p-2 text-gray-400 hover:text-white disabled:opacity-50 transition-all rounded-full hover:bg-white/10",title:"",children:h.jsx(w_,{size:20})})]})]}),h.jsxs("div",{className:"glass-effect rounded-xl p-6 mb-6 text-center transform hover:scale-[1.02] transition-all duration-300",children:[h.jsxs("div",{className:"text-5xl font-bold mb-3 score-display",children:[h.jsx("span",{className:`transition-all duration-300 ${v===1?"text-blue-400 score-animation":""}`,children:p(1)}),h.jsx("span",{className:"mx-4 text-gray-400",children:"-"}),h.jsx("span",{className:`transition-all duration-300 ${v===2?"text-red-400 score-animation":""}`,children:p(2)})]}),h.jsxs("div",{className:"text-2xl font-semibold text-gray-300 font-mono",children:[M.team1Games," - ",M.team2Games]}),h.jsxs("div",{className:"text-sm text-gray-400 mt-2",children:["First to ",n.gamesToWin," games"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsx("div",{className:`transform transition-all duration-300 ${v===1?"scale-105":""}`,children:h.jsxs("div",{className:"team-card bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-xl p-4 hover-lift",children:[h.jsxs("div",{className:"text-sm font-semibold mb-3 space-y-1",children:[h.jsx("div",{className:"text-blue-300 truncate",children:n.team1.player1}),h.jsx("div",{className:"text-blue-300 truncate",children:n.team1.player2})]}),h.jsx("button",{onClick:()=>g(1),className:"w-full py-4 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transform hover:scale-105 transition-all shadow-lg text-sm font-semibold",children:"Add Point"})]})}),h.jsx("div",{className:`transform transition-all duration-300 ${v===2?"scale-105":""}`,children:h.jsxs("div",{className:"team-card bg-gradient-to-br from-red-500/20 to-red-600/20 rounded-xl p-4 hover-lift",children:[h.jsxs("div",{className:"text-sm font-semibold mb-3 space-y-1",children:[h.jsx("div",{className:"text-red-300 truncate",children:n.team2.player1}),h.jsx("div",{className:"text-red-300 truncate",children:n.team2.player2})]}),h.jsx("button",{onClick:()=>g(2),className:"w-full py-4 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg hover:from-red-600 hover:to-red-700 transform hover:scale-105 transition-all shadow-lg text-sm font-semibold",children:"Add Point"})]})})]})]})}),a&&h.jsx(ax,{winners:c,onClose:()=>{u(!1),D()}})]})},dx=({matches:t,players:e,isEditMode:n,onDelete:r})=>{const i=s=>{var o;return((o=e.find(l=>l.id===s))==null?void 0:o.name)||""};return t.length===0?h.jsx("div",{className:"text-center text-gray-600 py-8 rounded-lg border-2 border-dashed border-gray-200",children:"   "}):h.jsx("div",{className:"space-y-4",children:t.slice().reverse().map(s=>h.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6 hover:shadow-xl transition-all duration-300 transform hover:scale-[1.01] relative group",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsx("div",{className:"flex-1",children:h.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"font-semibold text-gray-800 space-y-1",children:[h.jsx("div",{className:"truncate",children:i(s.team1.player1Id)}),h.jsx("div",{className:"truncate",children:i(s.team1.player2Id)})]}),h.jsx("div",{className:`text-3xl font-bold mt-2 ${s.winner===1?"text-blue-500 animate-pulse":"text-gray-600"}`,children:s.team1.score}),s.winner===1&&h.jsx("div",{className:"mt-2",children:h.jsx(Xi,{className:"w-5 h-5 text-yellow-500 mx-auto animate-bounce"})})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-sm text-gray-600",children:ru(new Date(s.date),"dd MMM yyyy",{locale:iu})}),h.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ru(new Date(s.date),"HH:mm",{locale:iu})})]}),h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"font-semibold text-gray-800 space-y-1",children:[h.jsx("div",{className:"truncate",children:i(s.team2.player1Id)}),h.jsx("div",{className:"truncate",children:i(s.team2.player2Id)})]}),h.jsx("div",{className:`text-3xl font-bold mt-2 ${s.winner===2?"text-red-500 animate-pulse":"text-gray-600"}`,children:s.team2.score}),s.winner===2&&h.jsx("div",{className:"mt-2",children:h.jsx(Xi,{className:"w-5 h-5 text-yellow-500 mx-auto animate-bounce"})})]})]})}),n&&h.jsx("button",{onClick:()=>r(s.id),className:"absolute top-2 right-2 text-red-400 hover:text-red-600 transition-colors p-2 rounded-full hover:bg-red-50 opacity-0 group-hover:opacity-100",title:" ",children:h.jsx(Ki,{size:18})})]})},s.id))})},Mo=()=>new Date().toISOString().split("T")[0],hx=(t,e)=>{const n=Mo();return t.find(r=>r.voterId===e&&r.date.startsWith(n))},fx=t=>{const e=Mo(),n=t.filter(i=>i.date.startsWith(e)),r=new Map;return n.forEach(i=>{const s=r.get(i.votedForId)||0;r.set(i.votedForId,s+1)}),Array.from(r.entries()).map(([i,s])=>({playerId:i,votes:s,date:e})).sort((i,s)=>s.votes-i.votes)},px=({players:t,votes:e,currentPlayerId:n,isEditMode:r,onVote:i,onDeleteVote:s})=>{const[o,l]=B.useState(""),[a,u]=B.useState(!1),d=fx(e)[0],f=n?hx(e,n):void 0,w=e.filter(x=>x.date===Mo()),v=x=>{var T;return((T=t.find(y=>y.id===x))==null?void 0:T.name)||""};return h.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-lg shadow p-4 mb-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Xi,{className:"text-yellow-400",size:20}),h.jsx("h2",{className:"text-lg font-bold text-white",children:"  "})]}),!f&&n&&!a&&h.jsxs("button",{onClick:()=>u(!0),className:"px-3 py-1.5 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 transition-all flex items-center gap-1",children:[h.jsx(__,{size:14}),""]})]}),d?h.jsxs("div",{className:"bg-gradient-to-r from-yellow-500 to-amber-500 p-3 rounded-lg flex items-center gap-3",children:[h.jsx(f_,{className:"text-white",size:24}),h.jsx("div",{children:h.jsx("h3",{className:"font-bold text-white",children:v(d.playerId)})})]}):h.jsx("div",{className:"text-center text-gray-400 py-2 text-sm",children:"    "}),f&&h.jsxs("div",{className:"mt-3 p-2 bg-white/10 rounded-lg flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(v_,{className:"text-yellow-400",size:16}),h.jsxs("span",{className:"text-sm text-white",children:[" : ",v(f.votedForId)]})]}),r&&h.jsx("button",{onClick:()=>s(f.id),className:"text-red-400 hover:text-red-300 transition-colors",title:" ",children:h.jsx(Ki,{size:16})})]}),r&&w.length>0&&h.jsxs("div",{className:"mt-3",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2 text-gray-300",children:[h.jsx(S_,{size:16}),h.jsx("span",{className:"text-sm",children:" "})]}),h.jsx("div",{className:"space-y-2",children:w.map(x=>h.jsxs("div",{className:"flex items-center justify-between bg-white/5 p-2 rounded",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[h.jsx("span",{children:v(x.voterId)}),h.jsx("span",{className:"text-gray-500",children:""}),h.jsx("span",{className:"text-yellow-400",children:v(x.votedForId)})]}),h.jsx("button",{onClick:()=>s(x.id),className:"text-red-400 hover:text-red-300 transition-colors",title:" ",children:h.jsx(Ki,{size:14})})]},x.id))})]}),a&&h.jsxs("div",{className:"mt-3 p-2 bg-white/10 rounded-lg",children:[h.jsxs("select",{value:o,onChange:x=>l(x.target.value),className:"w-full p-2 mb-2 bg-gray-800 border border-gray-700 rounded text-white text-sm",children:[h.jsx("option",{value:"",children:" "}),t.filter(x=>x.id!==n).map(x=>h.jsx("option",{value:x.id,children:x.name},x.id))]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>{if(n&&o){const x={id:crypto.randomUUID(),voterId:n,votedForId:o,date:Mo()};i(x),l(""),u(!1)}},disabled:!o,className:"px-3 py-1.5 bg-green-500 text-white text-sm rounded hover:bg-green-600 transition-all flex-1 disabled:opacity-50",children:""}),h.jsx("button",{onClick:()=>u(!1),className:"px-3 py-1.5 bg-gray-700 text-white text-sm rounded hover:bg-gray-600 transition-all",children:""})]})]})]})},mx=({players:t,onAuthenticate:e})=>{const[n,r]=B.useState(!1),[i,s]=B.useState(""),[o,l]=B.useState(""),a=u=>{u.preventDefault();const c=tx(t,i);c?(e(c),s(""),l(""),r(!1)):l("   ")};return n?h.jsx("div",{className:"flex justify-end mb-4",children:h.jsxs("form",{onSubmit:a,className:"flex items-center gap-2",children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:i,onChange:u=>{const c=u.target.value.toUpperCase();s(c),l("")},placeholder:"  ",className:"w-48 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none text-center font-mono uppercase",maxLength:8}),o&&h.jsx("div",{className:"absolute top-full right-0 mt-1 text-red-500 text-xs",children:o})]}),h.jsx("button",{type:"submit",disabled:i.length!==8,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all disabled:opacity-50 text-sm",children:""}),h.jsx("button",{type:"button",onClick:()=>{r(!1),s(""),l("")},className:"px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-all text-sm",children:""})]})}):h.jsx("div",{className:"flex justify-end mb-4",children:h.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all text-sm",children:[h.jsx(m_,{size:16}),""]})})};var Wh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k=function(t,e){if(!t)throw Kr(e)},Kr=function(t){return new Error("Firebase Database ("+rg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Cc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,c=s>>2,d=(s&3)<<4|l>>4;let f=(l&15)<<2|u>>6,w=u&63;a||(w=64,o||(f=64)),r.push(n[c],n[d],n[f],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ig(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||d==null)throw new yx;const f=s<<2|l>>4;if(r.push(f),u!==64){const w=l<<4&240|u>>2;if(r.push(w),d!==64){const v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class yx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sg=function(t){const e=ig(t);return Cc.encodeByteArray(e,!0)},Do=function(t){return sg(t).replace(/\./g,"")},ou=function(t){try{return Cc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t){return og(void 0,t)}function og(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_x(n)||(t[n]=og(t[n],e[n]));return t}function _x(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=()=>wx().__FIREBASE_DEFAULTS__,Sx=()=>{if(typeof process>"u"||typeof Wh>"u")return;const t=Wh.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Cx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ou(t[1]);return e&&JSON.parse(e)},lg=()=>{try{return xx()||Sx()||Cx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ex=t=>{var e,n;return(n=(e=lg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kx=t=>{const e=Ex(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ag=()=>{var t;return(t=lg())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Do(JSON.stringify(n)),Do(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ug(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tx())}function Ix(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function cg(){return rg.NODE_ADMIN===!0}function Px(){try{return typeof indexedDB=="object"}catch{return!1}}function bx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Rx,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dg.prototype.create)}}class dg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Mx(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new ys(i,l,r)}}function Mx(t,e){return t.replace(Dx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Dx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){return JSON.parse(t)}function Ne(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Zi(ou(s[0])||""),n=Zi(ou(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},Ox=function(t){const e=hg(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ax=function(t){const e=hg(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ur(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Uh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oo(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function lu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Bh(s)&&Bh(o)){if(!lu(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Bh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],a=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=l^s&(o^l),c=1518500249):(u=s^o^l,c=1859775393):d<60?(u=s&o|l&(s|o),c=2400959708):(u=s^o^l,c=3395469782);const f=(i<<5|i>>>27)+u+a+c+r[d]&4294967295;a=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+a&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function fl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,k(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t){return t&&t._delegate?t._delegate:t}class es{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ux(e))try{this.getOrInitializeService({instanceIdentifier:jn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jn){return this.instances.has(e)}getOptions(e=jn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=jn){return this.component?this.component.multipleInstances?e:jn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wx(t){return t===jn?void 0:t}function Ux(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new zx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const $x={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Vx=se.INFO,Hx={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Gx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Hx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fg{constructor(e){this.name=e,this._logLevel=Vx,this._logHandler=Gx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$x[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const Yx=(t,e)=>e.some(n=>t instanceof n);let $h,Vh;function Qx(){return $h||($h=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qx(){return Vh||(Vh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pg=new WeakMap,au=new WeakMap,mg=new WeakMap,ea=new WeakMap,Ec=new WeakMap;function Kx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(xn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pg.set(n,t)}).catch(()=>{}),Ec.set(e,t),e}function Xx(t){if(au.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});au.set(t,e)}let uu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return au.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Jx(t){uu=t(uu)}function Zx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ta(this),e,...n);return mg.set(r,e.sort?e.sort():[e]),xn(r)}:qx().includes(t)?function(...e){return t.apply(ta(this),e),xn(pg.get(this))}:function(...e){return xn(t.apply(ta(this),e))}}function eS(t){return typeof t=="function"?Zx(t):(t instanceof IDBTransaction&&Xx(t),Yx(t,Qx())?new Proxy(t,uu):t)}function xn(t){if(t instanceof IDBRequest)return Kx(t);if(ea.has(t))return ea.get(t);const e=eS(t);return e!==t&&(ea.set(t,e),Ec.set(e,t)),e}const ta=t=>Ec.get(t);function tS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=xn(o);return r&&o.addEventListener("upgradeneeded",a=>{r(xn(o.result),a.oldVersion,a.newVersion,xn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const nS=["get","getKey","getAll","getAllKeys","count"],rS=["put","add","delete","clear"],na=new Map;function Hh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(na.get(e))return na.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=rS.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||nS.includes(n)))return;const s=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let u=a.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),i&&a.done]))[0]};return na.set(e,s),s}Jx(t=>({...t,get:(e,n,r)=>Hh(e,n)||t.get(e,n,r),has:(e,n)=>!!Hh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function sS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cu="@firebase/app",Gh="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt=new fg("@firebase/app"),oS="@firebase/app-compat",lS="@firebase/analytics-compat",aS="@firebase/analytics",uS="@firebase/app-check-compat",cS="@firebase/app-check",dS="@firebase/auth",hS="@firebase/auth-compat",fS="@firebase/database",pS="@firebase/data-connect",mS="@firebase/database-compat",gS="@firebase/functions",yS="@firebase/functions-compat",vS="@firebase/installations",_S="@firebase/installations-compat",wS="@firebase/messaging",xS="@firebase/messaging-compat",SS="@firebase/performance",CS="@firebase/performance-compat",ES="@firebase/remote-config",kS="@firebase/remote-config-compat",NS="@firebase/storage",TS="@firebase/storage-compat",IS="@firebase/firestore",PS="@firebase/vertexai-preview",bS="@firebase/firestore-compat",RS="firebase",MS="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="[DEFAULT]",DS={[cu]:"fire-core",[oS]:"fire-core-compat",[aS]:"fire-analytics",[lS]:"fire-analytics-compat",[cS]:"fire-app-check",[uS]:"fire-app-check-compat",[dS]:"fire-auth",[hS]:"fire-auth-compat",[fS]:"fire-rtdb",[pS]:"fire-data-connect",[mS]:"fire-rtdb-compat",[gS]:"fire-fn",[yS]:"fire-fn-compat",[vS]:"fire-iid",[_S]:"fire-iid-compat",[wS]:"fire-fcm",[xS]:"fire-fcm-compat",[SS]:"fire-perf",[CS]:"fire-perf-compat",[ES]:"fire-rc",[kS]:"fire-rc-compat",[NS]:"fire-gcs",[TS]:"fire-gcs-compat",[IS]:"fire-fst",[bS]:"fire-fst-compat",[PS]:"fire-vertex","fire-js":"fire-js",[RS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=new Map,OS=new Map,hu=new Map;function Yh(t,e){try{t.container.addComponent(e)}catch(n){Zt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lo(t){const e=t.name;if(hu.has(e))return Zt.debug(`There were multiple attempts to register component ${e}.`),!1;hu.set(e,t);for(const n of Ao.values())Yh(n,t);for(const n of OS.values())Yh(n,t);return!0}function AS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sn=new dg("app","Firebase",LS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=MS;function gg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:du,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Sn.create("bad-app-name",{appName:String(i)});if(n||(n=ag()),!n)throw Sn.create("no-options");const s=Ao.get(i);if(s){if(lu(n,s.options)&&lu(r,s.config))return s;throw Sn.create("duplicate-app",{appName:i})}const o=new Bx(i);for(const a of hu.values())o.addComponent(a);const l=new jS(n,r,o);return Ao.set(i,l),l}function zS(t=du){const e=Ao.get(t);if(!e&&t===du&&ag())return gg();if(!e)throw Sn.create("no-app",{appName:t});return e}function Rr(t,e,n){var r;let i=(r=DS[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zt.warn(l.join(" "));return}Lo(new es(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="firebase-heartbeat-database",US=1,ts="firebase-heartbeat-store";let ra=null;function yg(){return ra||(ra=tS(WS,US,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ts)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sn.create("idb-open",{originalErrorMessage:t.message})})),ra}async function BS(t){try{const n=(await yg()).transaction(ts),r=await n.objectStore(ts).get(vg(t));return await n.done,r}catch(e){if(e instanceof ys)Zt.warn(e.message);else{const n=Sn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zt.warn(n.message)}}}async function Qh(t,e){try{const r=(await yg()).transaction(ts,"readwrite");await r.objectStore(ts).put(e,vg(t)),await r.done}catch(n){if(n instanceof ys)Zt.warn(n.message);else{const r=Sn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zt.warn(r.message)}}}function vg(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=1024,VS=30*24*60*60*1e3;class HS{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YS(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qh();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=VS}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Zt.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qh(),{heartbeatsToSend:r,unsentEntries:i}=GS(this._heartbeatsCache.heartbeats),s=Do(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Zt.warn(n),""}}}function qh(){return new Date().toISOString().substring(0,10)}function GS(t,e=$S){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Kh(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Kh(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Px()?bx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BS(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Kh(t){return Do(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(t){Lo(new es("platform-logger",e=>new iS(e),"PRIVATE")),Lo(new es("heartbeat",e=>new HS(e),"PRIVATE")),Rr(cu,Gh,t),Rr(cu,Gh,"esm2017"),Rr("fire-js","")}QS("");var Xh={};const Jh="@firebase/database",Zh="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _g="";function qS(t){_g=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ne(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new KS(e)}}catch{}return new XS},Bn=wg("localStorage"),JS=wg("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new fg("@firebase/database"),ZS=function(){let t=1;return function(){return t++}}(),xg=function(t){const e=Fx(t),n=new jx;n.update(e);const r=n.digest();return Cc.encodeByteArray(r)},vs=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=vs.apply(null,r):typeof r=="object"?e+=Ne(r):e+=r,e+=" "}return e};let Ii=null,ef=!0;const eC=function(t,e){k(!e,"Can't turn on custom loggers persistently."),Mr.logLevel=se.VERBOSE,Ii=Mr.log.bind(Mr)},Oe=function(...t){if(ef===!0&&(ef=!1,Ii===null&&JS.get("logging_enabled")===!0&&eC()),Ii){const e=vs.apply(null,t);Ii(e)}},_s=function(t){return function(...e){Oe(t,...e)}},fu=function(...t){const e="FIREBASE INTERNAL ERROR: "+vs(...t);Mr.error(e)},en=function(...t){const e=`FIREBASE FATAL ERROR: ${vs(...t)}`;throw Mr.error(e),new Error(e)},He=function(...t){const e="FIREBASE WARNING: "+vs(...t);Mr.warn(e)},tC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&He("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},kc=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},nC=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Br="[MIN_NAME]",Xn="[MAX_NAME]",nr=function(t,e){if(t===e)return 0;if(t===Br||e===Xn)return-1;if(e===Br||t===Xn)return 1;{const n=tf(t),r=tf(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},rC=function(t,e){return t===e?0:t<e?-1:1},di=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ne(e))},Nc=function(t){if(typeof t!="object"||t===null)return Ne(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ne(e[r]),n+=":",n+=Nc(t[e[r]]);return n+="}",n},Sg=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function je(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Cg=function(t){k(!kc(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,a;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(a=n;a;a-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(a=e;a;a-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(a=0;a<64;a+=8){let f=parseInt(c.substr(a,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},iC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},sC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function oC(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const lC=new RegExp("^-?(0*)\\d{1,10}$"),aC=-2147483648,uC=2147483647,tf=function(t){if(lC.test(t)){const e=Number(t);if(e>=aC&&e<=uC)return e}return null},Jr=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw He("Exception was thrown by user callback.",n),e},Math.floor(0))}},cC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){He(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Oe("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',He(e)}}class ro{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ro.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc="5",Eg="v",kg="s",Ng="r",Tg="f",Ig=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pg="ls",bg="p",pu="ac",Rg="websocket",Mg="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i,s=!1,o="",l=!1,a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function fC(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Og(t,e,n){k(typeof e=="string","typeof type must == string"),k(typeof n=="object","typeof params must == object");let r;if(e===Rg)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Mg)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);fC(t)&&(n.ns=t.namespace);const i=[];return je(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(){this.counters_={}}incrementCounter(e,n=1){zt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return vx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia={},sa={};function Ic(t){const e=t.toString();return ia[e]||(ia[e]=new pC),ia[e]}function mC(t,e){const n=t.toString();return sa[n]||(sa[n]=e()),sa[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Jr(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nf="start",yC="close",vC="pLPCommand",_C="pRTLPCB",Ag="id",Lg="pw",jg="ser",wC="cb",xC="seg",SC="ts",CC="d",EC="dframe",Fg=1870,zg=30,kC=Fg-zg,NC=25e3,TC=3e4;class Cr{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_s(e),this.stats_=Ic(n),this.urlFn=a=>(this.appCheckToken&&(a[pu]=this.appCheckToken),Og(n,Mg,a))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new gC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(TC)),nC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pc((...s)=>{const[o,l,a,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===nf)this.id=l,this.password=a;else if(o===yC)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[nf]="t",r[jg]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[wC]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Eg]=Tc,this.transportSessionId&&(r[kg]=this.transportSessionId),this.lastSessionId&&(r[Pg]=this.lastSessionId),this.applicationId&&(r[bg]=this.applicationId),this.appCheckToken&&(r[pu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Ig.test(location.hostname)&&(r[Ng]=Tg);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cr.forceAllow_=!0}static forceDisallow(){Cr.forceDisallow_=!0}static isAvailable(){return Cr.forceAllow_?!0:!Cr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!iC()&&!sC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ne(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=sg(n),i=Sg(r,kC);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[EC]="t",r[Ag]=e,r[Lg]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ne(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Pc{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=ZS(),window[vC+this.uniqueCallbackIdentifier]=e,window[_C+this.uniqueCallbackIdentifier]=n,this.myIFrame=Pc.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Oe("frame writing exception"),l.stack&&Oe(l.stack),Oe(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Oe("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Ag]=this.myID,e[Lg]=this.myPW,e[jg]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+zg+r.length<=Fg;){const o=this.pendingSegs.shift();r=r+"&"+xC+i+"="+o.seg+"&"+SC+i+"="+o.ts+"&"+CC+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(NC)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Oe("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=16384,PC=45e3;let jo=null;typeof MozWebSocket<"u"?jo=MozWebSocket:typeof WebSocket<"u"&&(jo=WebSocket);class Ct{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_s(this.connId),this.stats_=Ic(n),this.connURL=Ct.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Eg]=Tc,typeof location<"u"&&location.hostname&&Ig.test(location.hostname)&&(o[Ng]=Tg),n&&(o[kg]=n),r&&(o[Pg]=r),i&&(o[pu]=i),s&&(o[bg]=s),Og(e,Rg,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bn.set("previous_websocket_failure",!0);try{let r;cg(),this.mySock=new jo(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ct.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&jo!==null&&!Ct.forceDisallow_}static previouslyFailed(){return Bn.isInMemoryStorage||Bn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Bn.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Zi(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(k(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ne(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Sg(n,IC);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PC))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ct.responsesRequiredToBeHealthy=2;Ct.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Cr,Ct]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Ct&&Ct.isAvailable();let r=n&&!Ct.previouslyFailed();if(e.webSocketOnly&&(n||He("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ct];else{const i=this.transports_=[];for(const s of ns.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ns.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ns.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=6e4,RC=5e3,MC=10*1024,DC=100*1024,oa="t",rf="d",OC="s",sf="r",AC="e",of="o",lf="a",af="n",uf="p",LC="h";class jC{constructor(e,n,r,i,s,o,l,a,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=a,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_s("c:"+this.id+":"),this.transportManager_=new ns(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>DC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>MC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(oa in e){const n=e[oa];n===lf?this.upgradeIfSecondaryHealthy_():n===sf?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===of&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=di("t",e),r=di("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:uf,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:lf,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:af,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=di("t",e),r=di("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=di(oa,e);if(rf in e){const r=e[rf];if(n===LC){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===af){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===OC?this.onConnectionShutdown_(r):n===sf?this.onReset_(r):n===AC?fu("Server Error: "+r):n===of?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):fu("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Tc!==r&&He("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bC))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(RC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:uf,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this.allowedEvents_=e,this.listeners_={},k(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){k(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo extends Ug{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ug()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fo}getInitialEvent(e){return k(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=32,df=768;class ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function X(){return new ne("")}function Q(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Tn(t){return t.pieces_.length-t.pieceNum_}function oe(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ne(t.pieces_,e)}function bc(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function FC(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function rs(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Bg(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ne(e,0)}function _e(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ne(n,0)}function H(t){return t.pieceNum_>=t.pieces_.length}function $e(t,e){const n=Q(t),r=Q(e);if(n===null)return e;if(n===r)return $e(oe(t),oe(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function zC(t,e){const n=rs(t,0),r=rs(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=nr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function $g(t,e){if(Tn(t)!==Tn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ht(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Tn(t)>Tn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class WC{constructor(e,n){this.errorPrefix_=n,this.parts_=rs(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=pl(this.parts_[r]);Vg(this)}}function UC(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=pl(e),Vg(t)}function BC(t){const e=t.parts_.pop();t.byteLength_-=pl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Vg(t){if(t.byteLength_>df)throw new Error(t.errorPrefix_+"has a key path longer than "+df+" bytes ("+t.byteLength_+").");if(t.parts_.length>cf)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cf+") or object contains a cycle "+Fn(t))}function Fn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Ug{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Rc}getInitialEvent(e){return k(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=1e3,$C=60*5*1e3,hf=30*1e3,VC=1.3,HC=3e4,GC="server_kill",ff=3;class Qt extends Wg{constructor(e,n,r,i,s,o,l,a){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=a,this.id=Qt.nextPersistentConnectionId_++,this.log_=_s("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hi,this.maxReconnectDelay_=$C,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!cg())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rc.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Fo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Ne(s)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new gs,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const a=l.d,u=l.s;Qt.warnOnListenWarnings_(a,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,a))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&zt(e,"w")){const r=Ur(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();He(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Ax(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=hf)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Ox(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),k(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ne(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):fu("Unrecognized action received from server: "+Ne(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=hi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>HC&&(this.reconnectDelay_=hi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*VC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Qt.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const a=function(){l?l.close():(o=!0,r())},u=function(d){k(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(d)};this.realtime_={close:a,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Oe("getToken() completed but was canceled"):(Oe("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,l=new jC(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,w=>{He(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(GC)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&He(d),a())}}}interrupt(e){Oe("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Oe("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Uh(this.interruptReasons_)&&(this.reconnectDelay_=hi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>Nc(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ne(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Oe("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ff&&(this.reconnectDelay_=hf,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Oe("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ff&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_g.replace(/\./g,"-")]=1,ug()?e["framework.cordova"]=1:Ix()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fo.getInstance().currentlyOnline();return Uh(this.interruptReasons_)&&e}}Qt.nextPersistentConnectionId_=0;Qt.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new V(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new V(Br,e),i=new V(Br,n);return this.compare(r,i)!==0}minPost(){return V.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $s;class Hg extends ml{static get __EMPTY_NODE(){return $s}static set __EMPTY_NODE(e){$s=e}compare(e,n){return nr(e.name,n.name)}isDefinedOn(e){throw Kr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return V.MIN}maxPost(){return new V(Xn,$s)}makePost(e,n){return k(typeof e=="string","KeyIndex indexValue must always be a string."),new V(e,$s)}toString(){return".key"}}const Dr=new Hg;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class be{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??be.RED,this.left=i??Xe.EMPTY_NODE,this.right=s??Xe.EMPTY_NODE}copy(e,n,r,i,s){return new be(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Xe.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Xe.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}be.RED=!0;be.BLACK=!1;class YC{copy(e,n,r,i,s){return this}insert(e,n,r){return new be(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Xe{constructor(e,n=Xe.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Xe(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,be.BLACK,null,null))}remove(e){return new Xe(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,be.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Vs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Vs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Vs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Vs(this.root_,null,this.comparator_,!0,e)}}Xe.EMPTY_NODE=new YC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e){return nr(t.name,e.name)}function Mc(t,e){return nr(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mu;function qC(t){mu=t}const Gg=function(t){return typeof t=="number"?"number:"+Cg(t):"string:"+t},Yg=function(t){if(t.isLeafNode()){const e=t.val();k(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zt(e,".sv"),"Priority must be a string or number.")}else k(t===mu||t.isEmpty(),"priority of unexpected type.");k(t===mu||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf;class Ie{constructor(e,n=Ie.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Yg(this.priorityNode_)}static set __childrenNodeConstructor(e){pf=e}static get __childrenNodeConstructor(){return pf}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ie(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ie.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return H(e)?this:Q(e)===".priority"?this.priorityNode_:Ie.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ie.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Q(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(k(r!==".priority"||Tn(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Ie.__childrenNodeConstructor.EMPTY_NODE.updateChild(oe(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Gg(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Cg(this.value_):e+=this.value_,this.lazyHash_=xg(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ie.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ie.__childrenNodeConstructor?-1:(k(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Ie.VALUE_TYPE_ORDER.indexOf(n),s=Ie.VALUE_TYPE_ORDER.indexOf(r);return k(i>=0,"Unknown leaf type: "+n),k(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ie.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qg,qg;function KC(t){Qg=t}function XC(t){qg=t}class JC extends ml{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?nr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return V.MIN}maxPost(){return new V(Xn,new Ie("[PRIORITY-POST]",qg))}makePost(e,n){const r=Qg(e);return new V(n,new Ie("[PRIORITY-POST]",r))}toString(){return".priority"}}const we=new JC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=Math.log(2);class eE{constructor(e){const n=s=>parseInt(Math.log(s)/ZC,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const zo=function(t,e,n,r){t.sort(e);const i=function(a,u){const c=u-a;let d,f;if(c===0)return null;if(c===1)return d=t[a],f=n?n(d):d,new be(f,d.node,be.BLACK,null,null);{const w=parseInt(c/2,10)+a,v=i(a,w),x=i(w+1,u);return d=t[w],f=n?n(d):d,new be(f,d.node,be.BLACK,v,x)}},s=function(a){let u=null,c=null,d=t.length;const f=function(v,x){const T=d-v,y=d;d-=v;const p=i(T+1,y),g=t[T],S=n?n(g):g;w(new be(S,g.node,x,null,p))},w=function(v){u?(u.left=v,u=v):(c=v,u=v)};for(let v=0;v<a.count;++v){const x=a.nextBitIsOne(),T=Math.pow(2,a.count-(v+1));x?f(T,be.BLACK):(f(T,be.BLACK),f(T,be.RED))}return c},o=new eE(t.length),l=s(o);return new Xe(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let la;const ur={};class Ht{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return k(ur&&we,"ChildrenNode.ts has not been loaded"),la=la||new Ht({".priority":ur},{".priority":we}),la}get(e){const n=Ur(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Xe?n:null}hasIndex(e){return zt(this.indexSet_,e.toString())}addIndex(e,n){k(e!==Dr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(V.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=zo(r,e.getCompare()):l=ur;const a=e.toString(),u=Object.assign({},this.indexSet_);u[a]=e;const c=Object.assign({},this.indexes_);return c[a]=l,new Ht(c,u)}addToIndexes(e,n){const r=Oo(this.indexes_,(i,s)=>{const o=Ur(this.indexSet_,s);if(k(o,"Missing index implementation for "+s),i===ur)if(o.isDefinedOn(e.node)){const l=[],a=n.getIterator(V.Wrap);let u=a.getNext();for(;u;)u.name!==e.name&&l.push(u),u=a.getNext();return l.push(e),zo(l,o.getCompare())}else return ur;else{const l=n.get(e.name);let a=i;return l&&(a=a.remove(new V(e.name,l))),a.insert(e,e.node)}});return new Ht(r,this.indexSet_)}removeFromIndexes(e,n){const r=Oo(this.indexes_,i=>{if(i===ur)return i;{const s=n.get(e.name);return s?i.remove(new V(e.name,s)):i}});return new Ht(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fi;class L{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Yg(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fi||(fi=new L(new Xe(Mc),null,Ht.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fi}updatePriority(e){return this.children_.isEmpty()?this:new L(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?fi:n}}getChild(e){const n=Q(e);return n===null?this:this.getImmediateChild(n).getChild(oe(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(k(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new V(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?fi:this.priorityNode_;return new L(i,o,s)}}updateChild(e,n){const r=Q(e);if(r===null)return n;{k(Q(e)!==".priority"||Tn(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(oe(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(we,(o,l)=>{n[o]=l.val(e),r++,s&&L.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Gg(this.getPriority().val())+":"),this.forEachChild(we,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":xg(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new V(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new V(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new V(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,V.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,V.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ws?-1:0}withIndex(e){if(e===Dr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new L(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Dr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(we),i=n.getIterator(we);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Dr?null:this.indexMap_.get(e.toString())}}L.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class tE extends L{constructor(){super(new Xe(Mc),L.EMPTY_NODE,Ht.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return L.EMPTY_NODE}isEmpty(){return!1}}const ws=new tE;Object.defineProperties(V,{MIN:{value:new V(Br,L.EMPTY_NODE)},MAX:{value:new V(Xn,ws)}});Hg.__EMPTY_NODE=L.EMPTY_NODE;Ie.__childrenNodeConstructor=L;qC(ws);XC(ws);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE=!0;function ke(t,e=null){if(t===null)return L.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),k(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ie(n,ke(e))}if(!(t instanceof Array)&&nE){const n=[];let r=!1;if(je(t,(o,l)=>{if(o.substring(0,1)!=="."){const a=ke(l);a.isEmpty()||(r=r||!a.getPriority().isEmpty(),n.push(new V(o,a)))}}),n.length===0)return L.EMPTY_NODE;const s=zo(n,QC,o=>o.name,Mc);if(r){const o=zo(n,we.getCompare());return new L(s,ke(e),new Ht({".priority":o},{".priority":we}))}else return new L(s,ke(e),Ht.Default)}else{let n=L.EMPTY_NODE;return je(t,(r,i)=>{if(zt(t,r)&&r.substring(0,1)!=="."){const s=ke(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ke(e))}}KC(ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE extends ml{constructor(e){super(),this.indexPath_=e,k(!H(e)&&Q(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?nr(e.name,n.name):s}makePost(e,n){const r=ke(e),i=L.EMPTY_NODE.updateChild(this.indexPath_,r);return new V(n,i)}maxPost(){const e=L.EMPTY_NODE.updateChild(this.indexPath_,ws);return new V(Xn,e)}toString(){return rs(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE extends ml{compare(e,n){const r=e.node.compareTo(n.node);return r===0?nr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return V.MIN}maxPost(){return V.MAX}makePost(e,n){const r=ke(e);return new V(n,r)}toString(){return".value"}}const sE=new iE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){return{type:"value",snapshotNode:t}}function $r(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function is(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ss(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function oE(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){k(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(is(n,l)):k(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange($r(n,r)):o.trackChildChange(ss(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(we,(i,s)=>{n.hasChild(i)||r.trackChildChange(is(i,s))}),n.isLeafNode()||n.forEachChild(we,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ss(i,s,o))}else r.trackChildChange($r(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?L.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e){this.indexedFilter_=new Dc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=os.getStartPost_(e),this.endPost_=os.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new V(n,r))||(r=L.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=L.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(L.EMPTY_NODE);const s=this;return n.forEachChild(we,(o,l)=>{s.matches(new V(o,l))||(i=i.updateImmediateChild(o,L.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new os(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new V(n,r))||(r=L.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=L.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=L.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(L.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,L.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,w)=>d(w,f)}else o=this.index_.getCompare();const l=e;k(l.numChildren()===this.limit_,"");const a=new V(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(l.hasChild(n)){const d=l.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||l.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const w=f==null?1:o(f,a);if(c&&!r.isEmpty()&&w>=0)return s!=null&&s.trackChildChange(ss(n,r,d)),l.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(is(n,d));const x=l.updateImmediateChild(n,L.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange($r(f.name,f.node)),x.updateImmediateChild(f.name,f.node)):x}}else return r.isEmpty()?e:c&&o(u,a)>=0?(s!=null&&(s.trackChildChange(is(u.name,u.node)),s.trackChildChange($r(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,L.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=we}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Br}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===we}copy(){const e=new Oc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aE(t){return t.loadsAllData()?new Dc(t.getIndex()):t.hasLimit()?new lE(t):new os(t)}function mf(t){const e={};if(t.isDefault())return e;let n;if(t.index_===we?n="$priority":t.index_===sE?n="$value":t.index_===Dr?n="$key":(k(t.index_ instanceof rE,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ne(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Ne(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Ne(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Ne(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Ne(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function gf(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==we&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo extends Wg{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=_s("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(k(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Wo.getListenId_(e,r),l={};this.listens_[o]=l;const a=mf(e._queryParams);this.restRequest_(s+".json",a,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Ur(this.listens_,o)===l){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(e,n){const r=Wo.getListenId_(e,n);delete this.listens_[r]}get(e){const n=mf(e._queryParams),r=e._path.toString(),i=new gs;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Lx(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let a=null;if(l.status>=200&&l.status<300){try{a=Zi(l.responseText)}catch{He("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,a)}else l.status!==401&&l.status!==404&&He("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.rootNode_=L.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(){return{value:null,children:new Map}}function Xg(t,e,n){if(H(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Q(e);t.children.has(r)||t.children.set(r,Uo());const i=t.children.get(r);e=oe(e),Xg(i,e,n)}}function gu(t,e,n){t.value!==null?n(e,t.value):cE(t,(r,i)=>{const s=new ne(e.toString()+"/"+r);gu(i,s,n)})}function cE(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&je(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=10*1e3,hE=30*1e3,fE=5*60*1e3;class pE{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dE(e);const r=yf+(hE-yf)*Math.random();Pi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;je(e,(i,s)=>{s>0&&zt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Pi(this.reportStats_.bind(this),Math.floor(Math.random()*2*fE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Et||(Et={}));function Ac(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Lc(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jc(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Et.ACK_USER_WRITE,this.source=Ac()}operationForChild(e){if(H(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ne(e));return new Bo(X(),n,this.revert)}}else return k(Q(this.path)===e,"operationForChild called for unrelated child."),new Bo(oe(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.source=e,this.path=n,this.type=Et.LISTEN_COMPLETE}operationForChild(e){return H(this.path)?new ls(this.source,X()):new ls(this.source,oe(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Et.OVERWRITE}operationForChild(e){return H(this.path)?new Jn(this.source,X(),this.snap.getImmediateChild(e)):new Jn(this.source,oe(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Et.MERGE}operationForChild(e){if(H(this.path)){const n=this.children.subtree(new ne(e));return n.isEmpty()?null:n.value?new Jn(this.source,X(),n.value):new Vr(this.source,X(),n)}else return k(Q(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Vr(this.source,oe(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(H(e))return this.isFullyInitialized()&&!this.filtered_;const n=Q(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function gE(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(oE(o.childName,o.snapshotNode))}),pi(t,i,"child_removed",e,r,n),pi(t,i,"child_added",e,r,n),pi(t,i,"child_moved",s,r,n),pi(t,i,"child_changed",e,r,n),pi(t,i,"value",e,r,n),i}function pi(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,a)=>vE(t,l,a)),o.forEach(l=>{const a=yE(t,l,s);i.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(a,t.query_))})})}function yE(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function vE(t,e,n){if(e.childName==null||n.childName==null)throw Kr("Should only compare child_ events.");const r=new V(e.childName,e.snapshotNode),i=new V(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t,e){return{eventCache:t,serverCache:e}}function bi(t,e,n,r){return gl(new In(e,n,r),t.serverCache)}function Jg(t,e,n,r){return gl(t.eventCache,new In(e,n,r))}function $o(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Zn(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa;const _E=()=>(aa||(aa=new Xe(rC)),aa);class ie{constructor(e,n=_E()){this.value=e,this.children=n}static fromObject(e){let n=new ie(null);return je(e,(r,i)=>{n=n.set(new ne(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:X(),value:this.value};if(H(e))return null;{const r=Q(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(oe(e),n);return s!=null?{path:_e(new ne(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(H(e))return this;{const n=Q(e),r=this.children.get(n);return r!==null?r.subtree(oe(e)):new ie(null)}}set(e,n){if(H(e))return new ie(n,this.children);{const r=Q(e),s=(this.children.get(r)||new ie(null)).set(oe(e),n),o=this.children.insert(r,s);return new ie(this.value,o)}}remove(e){if(H(e))return this.children.isEmpty()?new ie(null):new ie(null,this.children);{const n=Q(e),r=this.children.get(n);if(r){const i=r.remove(oe(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ie(null):new ie(this.value,s)}else return this}}get(e){if(H(e))return this.value;{const n=Q(e),r=this.children.get(n);return r?r.get(oe(e)):null}}setTree(e,n){if(H(e))return n;{const r=Q(e),s=(this.children.get(r)||new ie(null)).setTree(oe(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ie(this.value,o)}}fold(e){return this.fold_(X(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(_e(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,X(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(H(e))return null;{const s=Q(e),o=this.children.get(s);return o?o.findOnPath_(oe(e),_e(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,X(),n)}foreachOnPath_(e,n,r){if(H(e))return this;{this.value&&r(n,this.value);const i=Q(e),s=this.children.get(i);return s?s.foreachOnPath_(oe(e),_e(n,i),r):new ie(null)}}foreach(e){this.foreach_(X(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(_e(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.writeTree_=e}static empty(){return new Tt(new ie(null))}}function Ri(t,e,n){if(H(e))return new Tt(new ie(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$e(i,e);return s=s.updateChild(o,n),new Tt(t.writeTree_.set(i,s))}else{const i=new ie(n),s=t.writeTree_.setTree(e,i);return new Tt(s)}}}function yu(t,e,n){let r=t;return je(n,(i,s)=>{r=Ri(r,_e(e,i),s)}),r}function vf(t,e){if(H(e))return Tt.empty();{const n=t.writeTree_.setTree(e,new ie(null));return new Tt(n)}}function vu(t,e){return rr(t,e)!=null}function rr(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($e(n.path,e)):null}function _f(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(we,(r,i)=>{e.push(new V(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new V(r,i.value))}),e}function Cn(t,e){if(H(e))return t;{const n=rr(t,e);return n!=null?new Tt(new ie(n)):new Tt(t.writeTree_.subtree(e))}}function _u(t){return t.writeTree_.isEmpty()}function Hr(t,e){return Zg(X(),t.writeTree_,e)}function Zg(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(k(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=Zg(_e(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(_e(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(t,e){return ry(e,t)}function wE(t,e,n,r,i){k(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ri(t.visibleWrites,e,n)),t.lastWriteId=r}function xE(t,e,n,r){k(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=yu(t.visibleWrites,e,n),t.lastWriteId=r}function SE(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function CE(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);k(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&EE(l,r.path)?i=!1:ht(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return kE(t),!0;if(r.snap)t.visibleWrites=vf(t.visibleWrites,r.path);else{const l=r.children;je(l,a=>{t.visibleWrites=vf(t.visibleWrites,_e(r.path,a))})}return!0}else return!1}function EE(t,e){if(t.snap)return ht(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ht(_e(t.path,n),e))return!0;return!1}function kE(t){t.visibleWrites=ey(t.allWrites,NE,X()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function NE(t){return t.visible}function ey(t,e,n){let r=Tt.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)ht(n,o)?(l=$e(n,o),r=Ri(r,l,s.snap)):ht(o,n)&&(l=$e(o,n),r=Ri(r,X(),s.snap.getChild(l)));else if(s.children){if(ht(n,o))l=$e(n,o),r=yu(r,l,s.children);else if(ht(o,n))if(l=$e(o,n),H(l))r=yu(r,X(),s.children);else{const a=Ur(s.children,Q(l));if(a){const u=a.getChild(oe(l));r=Ri(r,X(),u)}}}else throw Kr("WriteRecord should have .snap or .children")}}return r}function ty(t,e,n,r,i){if(!r&&!i){const s=rr(t.visibleWrites,e);if(s!=null)return s;{const o=Cn(t.visibleWrites,e);if(_u(o))return n;if(n==null&&!vu(o,X()))return null;{const l=n||L.EMPTY_NODE;return Hr(o,l)}}}else{const s=Cn(t.visibleWrites,e);if(!i&&_u(s))return n;if(!i&&n==null&&!vu(s,X()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ht(u.path,e)||ht(e,u.path))},l=ey(t.allWrites,o,e),a=n||L.EMPTY_NODE;return Hr(l,a)}}}function TE(t,e,n){let r=L.EMPTY_NODE;const i=rr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(we,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Cn(t.visibleWrites,e);return n.forEachChild(we,(o,l)=>{const a=Hr(Cn(s,new ne(o)),l);r=r.updateImmediateChild(o,a)}),_f(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Cn(t.visibleWrites,e);return _f(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function IE(t,e,n,r,i){k(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=_e(e,n);if(vu(t.visibleWrites,s))return null;{const o=Cn(t.visibleWrites,s);return _u(o)?i.getChild(n):Hr(o,i.getChild(n))}}function PE(t,e,n,r){const i=_e(e,n),s=rr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Cn(t.visibleWrites,i);return Hr(o,r.getNode().getImmediateChild(n))}else return null}function bE(t,e){return rr(t.visibleWrites,e)}function RE(t,e,n,r,i,s,o){let l;const a=Cn(t.visibleWrites,e),u=rr(a,X());if(u!=null)l=u;else if(n!=null)l=Hr(a,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const c=[],d=o.getCompare(),f=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let w=f.getNext();for(;w&&c.length<i;)d(w,r)!==0&&c.push(w),w=f.getNext();return c}else return[]}function ME(){return{visibleWrites:Tt.empty(),allWrites:[],lastWriteId:-1}}function Vo(t,e,n,r){return ty(t.writeTree,t.treePath,e,n,r)}function Fc(t,e){return TE(t.writeTree,t.treePath,e)}function wf(t,e,n,r){return IE(t.writeTree,t.treePath,e,n,r)}function Ho(t,e){return bE(t.writeTree,_e(t.treePath,e))}function DE(t,e,n,r,i,s){return RE(t.writeTree,t.treePath,e,n,r,i,s)}function zc(t,e,n){return PE(t.writeTree,t.treePath,e,n)}function ny(t,e){return ry(_e(t.treePath,e),t.writeTree)}function ry(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;k(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),k(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ss(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,is(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,$r(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ss(r,e.snapshotNode,i.oldSnap));else throw Kr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const iy=new AE;class Wc{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new In(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zc(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zn(this.viewCache_),s=DE(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){return{filter:t}}function jE(t,e){k(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),k(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function FE(t,e,n,r,i){const s=new OE;let o,l;if(n.type===Et.OVERWRITE){const u=n;u.source.fromUser?o=wu(t,e,u.path,u.snap,r,i,s):(k(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!H(u.path),o=Go(t,e,u.path,u.snap,r,i,l,s))}else if(n.type===Et.MERGE){const u=n;u.source.fromUser?o=WE(t,e,u.path,u.children,r,i,s):(k(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=xu(t,e,u.path,u.children,r,i,l,s))}else if(n.type===Et.ACK_USER_WRITE){const u=n;u.revert?o=$E(t,e,u.path,r,i,s):o=UE(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Et.LISTEN_COMPLETE)o=BE(t,e,n.path,r,s);else throw Kr("Unknown operation type: "+n.type);const a=s.getChanges();return zE(e,o,a),{viewCache:o,changes:a}}function zE(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=$o(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Kg($o(e)))}}function sy(t,e,n,r,i,s){const o=e.eventCache;if(Ho(r,n)!=null)return e;{let l,a;if(H(n))if(k(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Zn(e),c=u instanceof L?u:L.EMPTY_NODE,d=Fc(r,c);l=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=Vo(r,Zn(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Q(n);if(u===".priority"){k(Tn(n)===1,"Can't have a priority with additional path components");const c=o.getNode();a=e.serverCache.getNode();const d=wf(r,n,c,a);d!=null?l=t.filter.updatePriority(c,d):l=o.getNode()}else{const c=oe(n);let d;if(o.isCompleteForChild(u)){a=e.serverCache.getNode();const f=wf(r,n,o.getNode(),a);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=zc(r,u,e.serverCache);d!=null?l=t.filter.updateChild(o.getNode(),u,d,c,i,s):l=o.getNode()}}return bi(e,l,o.isFullyInitialized()||H(n),t.filter.filtersNodes())}}function Go(t,e,n,r,i,s,o,l){const a=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(H(n))u=c.updateFullNode(a.getNode(),r,null);else if(c.filtersNodes()&&!a.isFiltered()){const w=a.getNode().updateChild(n,r);u=c.updateFullNode(a.getNode(),w,null)}else{const w=Q(n);if(!a.isCompleteForPath(n)&&Tn(n)>1)return e;const v=oe(n),T=a.getNode().getImmediateChild(w).updateChild(v,r);w===".priority"?u=c.updatePriority(a.getNode(),T):u=c.updateChild(a.getNode(),w,T,v,iy,null)}const d=Jg(e,u,a.isFullyInitialized()||H(n),c.filtersNodes()),f=new Wc(i,d,s);return sy(t,d,n,i,f,l)}function wu(t,e,n,r,i,s,o){const l=e.eventCache;let a,u;const c=new Wc(i,e,s);if(H(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),a=bi(e,u,!0,t.filter.filtersNodes());else{const d=Q(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),a=bi(e,u,l.isFullyInitialized(),l.isFiltered());else{const f=oe(n),w=l.getNode().getImmediateChild(d);let v;if(H(f))v=r;else{const x=c.getCompleteChild(d);x!=null?bc(f)===".priority"&&x.getChild(Bg(f)).isEmpty()?v=x:v=x.updateChild(f,r):v=L.EMPTY_NODE}if(w.equals(v))a=e;else{const x=t.filter.updateChild(l.getNode(),d,v,f,c,o);a=bi(e,x,l.isFullyInitialized(),t.filter.filtersNodes())}}}return a}function xf(t,e){return t.eventCache.isCompleteForChild(e)}function WE(t,e,n,r,i,s,o){let l=e;return r.foreach((a,u)=>{const c=_e(n,a);xf(e,Q(c))&&(l=wu(t,l,c,u,i,s,o))}),r.foreach((a,u)=>{const c=_e(n,a);xf(e,Q(c))||(l=wu(t,l,c,u,i,s,o))}),l}function Sf(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function xu(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let a=e,u;H(n)?u=r:u=new ie(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const w=e.serverCache.getNode().getImmediateChild(d),v=Sf(t,w,f);a=Go(t,a,new ne(d),v,i,s,o,l)}}),u.children.inorderTraversal((d,f)=>{const w=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!w){const v=e.serverCache.getNode().getImmediateChild(d),x=Sf(t,v,f);a=Go(t,a,new ne(d),x,i,s,o,l)}}),a}function UE(t,e,n,r,i,s,o){if(Ho(i,n)!=null)return e;const l=e.serverCache.isFiltered(),a=e.serverCache;if(r.value!=null){if(H(n)&&a.isFullyInitialized()||a.isCompleteForPath(n))return Go(t,e,n,a.getNode().getChild(n),i,s,l,o);if(H(n)){let u=new ie(null);return a.getNode().forEachChild(Dr,(c,d)=>{u=u.set(new ne(c),d)}),xu(t,e,n,u,i,s,l,o)}else return e}else{let u=new ie(null);return r.foreach((c,d)=>{const f=_e(n,c);a.isCompleteForPath(f)&&(u=u.set(c,a.getNode().getChild(f)))}),xu(t,e,n,u,i,s,l,o)}}function BE(t,e,n,r,i){const s=e.serverCache,o=Jg(e,s.getNode(),s.isFullyInitialized()||H(n),s.isFiltered());return sy(t,o,n,r,iy,i)}function $E(t,e,n,r,i,s){let o;if(Ho(r,n)!=null)return e;{const l=new Wc(r,e,i),a=e.eventCache.getNode();let u;if(H(n)||Q(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Vo(r,Zn(e));else{const d=e.serverCache.getNode();k(d instanceof L,"serverChildren would be complete if leaf node"),c=Fc(r,d)}c=c,u=t.filter.updateFullNode(a,c,s)}else{const c=Q(n);let d=zc(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=a.getImmediateChild(c)),d!=null?u=t.filter.updateChild(a,c,d,oe(n),l,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(a,c,L.EMPTY_NODE,oe(n),l,s):u=a,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Vo(r,Zn(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||Ho(r,X())!=null,bi(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Dc(r.getIndex()),s=aE(r);this.processor_=LE(s);const o=n.serverCache,l=n.eventCache,a=i.updateFullNode(L.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(L.EMPTY_NODE,l.getNode(),null),c=new In(a,o.isFullyInitialized(),i.filtersNodes()),d=new In(u,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=gl(d,c),this.eventGenerator_=new mE(this.query_)}get query(){return this.query_}}function HE(t){return t.viewCache_.serverCache.getNode()}function GE(t){return $o(t.viewCache_)}function YE(t,e){const n=Zn(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!H(e)&&!n.getImmediateChild(Q(e)).isEmpty())?n.getChild(e):null}function Cf(t){return t.eventRegistrations_.length===0}function QE(t,e){t.eventRegistrations_.push(e)}function Ef(t,e,n){const r=[];if(n){k(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function kf(t,e,n,r){e.type===Et.MERGE&&e.source.queryId!==null&&(k(Zn(t.viewCache_),"We should always have a full cache before handling merges"),k($o(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=FE(t.processor_,i,e,n,r);return jE(t.processor_,s.viewCache),k(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,oy(t,s.changes,s.viewCache.eventCache.getNode(),null)}function qE(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(we,(s,o)=>{r.push($r(s,o))}),n.isFullyInitialized()&&r.push(Kg(n.getNode())),oy(t,r,n.getNode(),e)}function oy(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return gE(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo;class ly{constructor(){this.views=new Map}}function KE(t){k(!Yo,"__referenceConstructor has already been defined"),Yo=t}function XE(){return k(Yo,"Reference.ts has not been loaded"),Yo}function JE(t){return t.views.size===0}function Uc(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return k(s!=null,"SyncTree gave us an op for an invalid query."),kf(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(kf(o,e,n,r));return s}}function ay(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=Vo(n,i?r:null),a=!1;l?a=!0:r instanceof L?(l=Fc(n,r),a=!1):(l=L.EMPTY_NODE,a=!1);const u=gl(new In(l,a,!1),new In(r,i,!1));return new VE(e,u)}return o}function ZE(t,e,n,r,i,s){const o=ay(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),QE(o,n),qE(o,n)}function ek(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=Pn(t);if(i==="default")for(const[a,u]of t.views.entries())o=o.concat(Ef(u,n,r)),Cf(u)&&(t.views.delete(a),u.query._queryParams.loadsAllData()||s.push(u.query));else{const a=t.views.get(i);a&&(o=o.concat(Ef(a,n,r)),Cf(a)&&(t.views.delete(i),a.query._queryParams.loadsAllData()||s.push(a.query)))}return l&&!Pn(t)&&s.push(new(XE())(e._repo,e._path)),{removed:s,events:o}}function uy(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function En(t,e){let n=null;for(const r of t.views.values())n=n||YE(r,e);return n}function cy(t,e){if(e._queryParams.loadsAllData())return vl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function dy(t,e){return cy(t,e)!=null}function Pn(t){return vl(t)!=null}function vl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo;function tk(t){k(!Qo,"__referenceConstructor has already been defined"),Qo=t}function nk(){return k(Qo,"Reference.ts has not been loaded"),Qo}let rk=1;class Nf{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ie(null),this.pendingWriteTree_=ME(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hy(t,e,n,r,i){return wE(t.pendingWriteTree_,e,n,r,i),i?Zr(t,new Jn(Ac(),e,n)):[]}function ik(t,e,n,r){xE(t.pendingWriteTree_,e,n,r);const i=ie.fromObject(n);return Zr(t,new Vr(Ac(),e,i))}function hn(t,e,n=!1){const r=SE(t.pendingWriteTree_,e);if(CE(t.pendingWriteTree_,e)){let s=new ie(null);return r.snap!=null?s=s.set(X(),!0):je(r.children,o=>{s=s.set(new ne(o),!0)}),Zr(t,new Bo(r.path,s,n))}else return[]}function xs(t,e,n){return Zr(t,new Jn(Lc(),e,n))}function sk(t,e,n){const r=ie.fromObject(n);return Zr(t,new Vr(Lc(),e,r))}function ok(t,e){return Zr(t,new ls(Lc(),e))}function lk(t,e,n){const r=$c(t,n);if(r){const i=Vc(r),s=i.path,o=i.queryId,l=$e(s,e),a=new ls(jc(o),l);return Hc(t,s,a)}else return[]}function fy(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||dy(o,e))){const a=ek(o,e,n,r);JE(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=a.removed;if(l=a.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(f,w)=>Pn(w));if(c&&!d){const f=t.syncPointTree_.subtree(s);if(!f.isEmpty()){const w=dk(f);for(let v=0;v<w.length;++v){const x=w[v],T=x.query,y=yy(t,x);t.listenProvider_.startListening(Mi(T),as(t,T),y.hashFn,y.onComplete)}}}!d&&u.length>0&&!r&&(c?t.listenProvider_.stopListening(Mi(e),null):u.forEach(f=>{const w=t.queryToTagMap.get(_l(f));t.listenProvider_.stopListening(Mi(f),w)}))}hk(t,u)}return l}function py(t,e,n,r){const i=$c(t,r);if(i!=null){const s=Vc(i),o=s.path,l=s.queryId,a=$e(o,e),u=new Jn(jc(l),a,n);return Hc(t,o,u)}else return[]}function ak(t,e,n,r){const i=$c(t,r);if(i){const s=Vc(i),o=s.path,l=s.queryId,a=$e(o,e),u=ie.fromObject(n),c=new Vr(jc(l),a,u);return Hc(t,o,c)}else return[]}function uk(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(f,w)=>{const v=$e(f,i);s=s||En(w,v),o=o||Pn(w)});let l=t.syncPointTree_.get(i);l?(o=o||Pn(l),s=s||En(l,X())):(l=new ly,t.syncPointTree_=t.syncPointTree_.set(i,l));let a;s!=null?a=!0:(a=!1,s=L.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((w,v)=>{const x=En(v,X());x&&(s=s.updateImmediateChild(w,x))}));const u=dy(l,e);if(!u&&!e._queryParams.loadsAllData()){const f=_l(e);k(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");const w=fk();t.queryToTagMap.set(f,w),t.tagToQueryMap.set(w,f)}const c=yl(t.pendingWriteTree_,i);let d=ZE(l,e,n,c,s,a);if(!u&&!o&&!r){const f=cy(l,e);d=d.concat(pk(t,e,f))}return d}function Bc(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const a=$e(o,e),u=En(l,a);if(u)return u});return ty(i,e,s,n,!0)}function ck(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=$e(u,n);r=r||En(c,d)});let i=t.syncPointTree_.get(n);i?r=r||En(i,X()):(i=new ly,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new In(r,!0,!1):null,l=yl(t.pendingWriteTree_,e._path),a=ay(i,e,l,s?o.getNode():L.EMPTY_NODE,s);return GE(a)}function Zr(t,e){return my(e,t.syncPointTree_,null,yl(t.pendingWriteTree_,X()))}function my(t,e,n,r){if(H(t.path))return gy(t,e,n,r);{const i=e.get(X());n==null&&i!=null&&(n=En(i,X()));let s=[];const o=Q(t.path),l=t.operationForChild(o),a=e.children.get(o);if(a&&l){const u=n?n.getImmediateChild(o):null,c=ny(r,o);s=s.concat(my(l,a,u,c))}return i&&(s=s.concat(Uc(i,t,r,n))),s}}function gy(t,e,n,r){const i=e.get(X());n==null&&i!=null&&(n=En(i,X()));let s=[];return e.children.inorderTraversal((o,l)=>{const a=n?n.getImmediateChild(o):null,u=ny(r,o),c=t.operationForChild(o);c&&(s=s.concat(gy(c,l,a,u)))}),i&&(s=s.concat(Uc(i,t,r,n))),s}function yy(t,e){const n=e.query,r=as(t,n);return{hashFn:()=>(HE(e)||L.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?lk(t,n._path,r):ok(t,n._path);{const s=oC(i,n);return fy(t,n,null,s)}}}}function as(t,e){const n=_l(e);return t.queryToTagMap.get(n)}function _l(t){return t._path.toString()+"$"+t._queryIdentifier}function $c(t,e){return t.tagToQueryMap.get(e)}function Vc(t){const e=t.indexOf("$");return k(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ne(t.substr(0,e))}}function Hc(t,e,n){const r=t.syncPointTree_.get(e);k(r,"Missing sync point for query tag that we're tracking");const i=yl(t.pendingWriteTree_,e);return Uc(r,n,i,null)}function dk(t){return t.fold((e,n,r)=>{if(n&&Pn(n))return[vl(n)];{let i=[];return n&&(i=uy(n)),je(r,(s,o)=>{i=i.concat(o)}),i}})}function Mi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(nk())(t._repo,t._path):t}function hk(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=_l(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function fk(){return rk++}function pk(t,e,n){const r=e._path,i=as(t,e),s=yy(t,n),o=t.listenProvider_.startListening(Mi(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)k(!Pn(l.value),"If we're adding a query, it shouldn't be shadowed");else{const a=l.fold((u,c,d)=>{if(!H(u)&&c&&Pn(c))return[vl(c).query];{let f=[];return c&&(f=f.concat(uy(c).map(w=>w.query))),je(d,(w,v)=>{f=f.concat(v)}),f}});for(let u=0;u<a.length;++u){const c=a[u];t.listenProvider_.stopListening(Mi(c),as(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Gc(n)}node(){return this.node_}}class Yc{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=_e(this.path_,e);return new Yc(this.syncTree_,n)}node(){return Bc(this.syncTree_,this.path_)}}const mk=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Tf=function(t,e,n){if(!t||typeof t!="object")return t;if(k(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return gk(t[".sv"],e,n);if(typeof t[".sv"]=="object")return yk(t[".sv"],e);k(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},gk=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:k(!1,"Unexpected server value: "+t)}},yk=function(t,e,n){t.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&k(!1,"Unexpected increment value: "+r);const i=e.node();if(k(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},vy=function(t,e,n,r){return Qc(e,new Yc(n,t),r)},_y=function(t,e,n){return Qc(t,new Gc(e),n)};function Qc(t,e,n){const r=t.getPriority().val(),i=Tf(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=Tf(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Ie(l,ke(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Ie(i))),o.forEachChild(we,(l,a)=>{const u=Qc(a,e.getImmediateChild(l),n);u!==a&&(s=s.updateImmediateChild(l,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Kc(t,e){let n=e instanceof ne?e:new ne(e),r=t,i=Q(n);for(;i!==null;){const s=Ur(r.node.children,i)||{children:{},childCount:0};r=new qc(i,r,s),n=oe(n),i=Q(n)}return r}function ei(t){return t.node.value}function wy(t,e){t.node.value=e,Su(t)}function xy(t){return t.node.childCount>0}function vk(t){return ei(t)===void 0&&!xy(t)}function wl(t,e){je(t.node.children,(n,r)=>{e(new qc(n,t,r))})}function Sy(t,e,n,r){n&&!r&&e(t),wl(t,i=>{Sy(i,e,!0,r)}),n&&r&&e(t)}function _k(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ss(t){return new ne(t.parent===null?t.name:Ss(t.parent)+"/"+t.name)}function Su(t){t.parent!==null&&wk(t.parent,t.name,t)}function wk(t,e,n){const r=vk(n),i=zt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Su(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Su(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=/[\[\].#$\/\u0000-\u001F\u007F]/,Sk=/[\[\].#$\u0000-\u001F\u007F]/,ua=10*1024*1024,Xc=function(t){return typeof t=="string"&&t.length!==0&&!xk.test(t)},Cy=function(t){return typeof t=="string"&&t.length!==0&&!Sk.test(t)},Ck=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Cy(t)},Ek=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!kc(t)||t&&typeof t=="object"&&zt(t,".sv")},kk=function(t,e,n,r){xl(fl(t,"value"),e,n)},xl=function(t,e,n){const r=n instanceof ne?new WC(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fn(r)+" with contents = "+e.toString());if(kc(e))throw new Error(t+"contains "+e.toString()+" "+Fn(r));if(typeof e=="string"&&e.length>ua/3&&pl(e)>ua)throw new Error(t+"contains a string greater than "+ua+" utf8 bytes "+Fn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(je(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Xc(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);UC(r,o),xl(t,l,r),BC(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fn(r)+" in addition to actual children.")}},Nk=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=rs(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Xc(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(zC);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&ht(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},Tk=function(t,e,n,r){const i=fl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];je(e,(o,l)=>{const a=new ne(o);if(xl(i,l,_e(n,a)),bc(a)===".priority"&&!Ek(l))throw new Error(i+"contains an invalid value for '"+a.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(a)}),Nk(i,s)},Ey=function(t,e,n,r){if(!Cy(n))throw new Error(fl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Ik=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ey(t,e,n)},Pk=function(t,e){if(Q(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},bk=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Xc(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ck(n))throw new Error(fl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Jc(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!$g(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function gt(t,e,n){Jc(t,n),Mk(t,r=>ht(r,e)||ht(e,r))}function Mk(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Dk(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Dk(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ii&&Oe("event: "+n.toString()),Jr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok="repo_interrupt",Ak=25;class Lk{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rk,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uo(),this.transactionQueueTree_=new qc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jk(t,e,n){if(t.stats_=Ic(t.repoInfo_),t.forceRestClient_||cC())t.server_=new Wo(t.repoInfo_,(r,i,s,o)=>{If(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Pf(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ne(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Qt(t.repoInfo_,e,(r,i,s,o)=>{If(t,r,i,s,o)},r=>{Pf(t,r)},r=>{zk(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=mC(t.repoInfo_,()=>new pE(t.stats_,t.server_)),t.infoData_=new uE,t.infoSyncTree_=new Nf({startListening:(r,i,s,o)=>{let l=[];const a=t.infoData_.getNode(r._path);return a.isEmpty()||(l=xs(t.infoSyncTree_,r._path,a),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Zc(t,"connected",!1),t.serverSyncTree_=new Nf({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,a)=>{const u=o(l,a);gt(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Fk(t){const n=t.infoData_.getNode(new ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Sl(t){return mk({timestamp:Fk(t)})}function If(t,e,n,r,i){t.dataUpdateCount++;const s=new ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const a=Oo(n,u=>ke(u));o=ak(t.serverSyncTree_,s,a,i)}else{const a=ke(n);o=py(t.serverSyncTree_,s,a,i)}else if(r){const a=Oo(n,u=>ke(u));o=sk(t.serverSyncTree_,s,a)}else{const a=ke(n);o=xs(t.serverSyncTree_,s,a)}let l=s;o.length>0&&(l=Gr(t,s)),gt(t.eventQueue_,l,o)}function Pf(t,e){Zc(t,"connected",e),e===!1&&$k(t)}function zk(t,e){je(e,(n,r)=>{Zc(t,n,r)})}function Zc(t,e,n){const r=new ne("/.info/"+e),i=ke(n);t.infoData_.updateSnapshot(r,i);const s=xs(t.infoSyncTree_,r,i);gt(t.eventQueue_,r,s)}function ed(t){return t.nextWriteId_++}function Wk(t,e,n){const r=ck(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=ke(i).withIndex(e._queryParams.getIndex());uk(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=xs(t.serverSyncTree_,e._path,s);else{const l=as(t.serverSyncTree_,e);o=py(t.serverSyncTree_,e._path,s,l)}return gt(t.eventQueue_,e._path,o),fy(t.serverSyncTree_,e,n,null,!0),s},i=>(Cs(t,"get for query "+Ne(e)+" failed: "+i),Promise.reject(new Error(i))))}function Uk(t,e,n,r,i){Cs(t,"set",{path:e.toString(),value:n,priority:r});const s=Sl(t),o=ke(n,r),l=Bc(t.serverSyncTree_,e),a=_y(o,l,s),u=ed(t),c=hy(t.serverSyncTree_,e,a,u,!0);Jc(t.eventQueue_,c),t.server_.put(e.toString(),o.val(!0),(f,w)=>{const v=f==="ok";v||He("set at "+e+" failed: "+f);const x=hn(t.serverSyncTree_,u,!v);gt(t.eventQueue_,e,x),Cu(t,i,f,w)});const d=nd(t,e);Gr(t,d),gt(t.eventQueue_,d,[])}function Bk(t,e,n,r){Cs(t,"update",{path:e.toString(),value:n});let i=!0;const s=Sl(t),o={};if(je(n,(l,a)=>{i=!1,o[l]=vy(_e(e,l),ke(a),t.serverSyncTree_,s)}),i)Oe("update() called with empty data.  Don't do anything."),Cu(t,r,"ok",void 0);else{const l=ed(t),a=ik(t.serverSyncTree_,e,o,l);Jc(t.eventQueue_,a),t.server_.merge(e.toString(),n,(u,c)=>{const d=u==="ok";d||He("update at "+e+" failed: "+u);const f=hn(t.serverSyncTree_,l,!d),w=f.length>0?Gr(t,e):e;gt(t.eventQueue_,w,f),Cu(t,r,u,c)}),je(n,u=>{const c=nd(t,_e(e,u));Gr(t,c)}),gt(t.eventQueue_,e,[])}}function $k(t){Cs(t,"onDisconnectEvents");const e=Sl(t),n=Uo();gu(t.onDisconnect_,X(),(i,s)=>{const o=vy(i,s,t.serverSyncTree_,e);Xg(n,i,o)});let r=[];gu(n,X(),(i,s)=>{r=r.concat(xs(t.serverSyncTree_,i,s));const o=nd(t,i);Gr(t,o)}),t.onDisconnect_=Uo(),gt(t.eventQueue_,X(),r)}function Vk(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ok)}function Cs(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Oe(n,...e)}function Cu(t,e,n,r){e&&Jr(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function ky(t,e,n){return Bc(t.serverSyncTree_,e,n)||L.EMPTY_NODE}function td(t,e=t.transactionQueueTree_){if(e||Cl(t,e),ei(e)){const n=Ty(t,e);k(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Hk(t,Ss(e),n)}else xy(e)&&wl(e,n=>{td(t,n)})}function Hk(t,e,n){const r=n.map(u=>u.currentWriteId),i=ky(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];k(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=$e(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const l=s.val(!0),a=e;t.server_.put(a.toString(),l,u=>{Cs(t,"transaction put response",{path:a.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(hn(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Cl(t,Kc(t.transactionQueueTree_,e)),td(t,t.transactionQueueTree_),gt(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)Jr(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{He("transaction at "+a.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Gr(t,e)}},o)}function Gr(t,e){const n=Ny(t,e),r=Ss(n),i=Ty(t,n);return Gk(t,i,r),r}function Gk(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const a=e[l],u=$e(n,a.path);let c=!1,d;if(k(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===4)c=!0,d=a.abortReason,i=i.concat(hn(t.serverSyncTree_,a.currentWriteId,!0));else if(a.status===0)if(a.retryCount>=Ak)c=!0,d="maxretry",i=i.concat(hn(t.serverSyncTree_,a.currentWriteId,!0));else{const f=ky(t,a.path,o);a.currentInputSnapshot=f;const w=e[l].update(f.val());if(w!==void 0){xl("transaction failed: Data returned ",w,a.path);let v=ke(w);typeof w=="object"&&w!=null&&zt(w,".priority")||(v=v.updatePriority(f.getPriority()));const T=a.currentWriteId,y=Sl(t),p=_y(v,f,y);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=p,a.currentWriteId=ed(t),o.splice(o.indexOf(T),1),i=i.concat(hy(t.serverSyncTree_,a.path,p,a.currentWriteId,a.applyLocally)),i=i.concat(hn(t.serverSyncTree_,T,!0))}else c=!0,d="nodata",i=i.concat(hn(t.serverSyncTree_,a.currentWriteId,!0))}gt(t.eventQueue_,n,i),i=[],c&&(e[l].status=2,function(f){setTimeout(f,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(d==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(d),!1,null))))}Cl(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)Jr(r[l]);td(t,t.transactionQueueTree_)}function Ny(t,e){let n,r=t.transactionQueueTree_;for(n=Q(e);n!==null&&ei(r)===void 0;)r=Kc(r,n),e=oe(e),n=Q(e);return r}function Ty(t,e){const n=[];return Iy(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Iy(t,e,n){const r=ei(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);wl(e,i=>{Iy(t,i,n)})}function Cl(t,e){const n=ei(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,wy(e,n.length>0?n:void 0)}wl(e,r=>{Cl(t,r)})}function nd(t,e){const n=Ss(Ny(t,e)),r=Kc(t.transactionQueueTree_,e);return _k(r,i=>{ca(t,i)}),ca(t,r),Sy(r,i=>{ca(t,i)}),n}function ca(t,e){const n=ei(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(k(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(k(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(hn(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?wy(e,void 0):n.length=s+1,gt(t.eventQueue_,Ss(e),i);for(let o=0;o<r.length;o++)Jr(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Qk(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):He(`Invalid query segment '${n}' in query '${t}'`)}return e}const bf=function(t,e){const n=qk(t),r=n.namespace;n.domain==="firebase.com"&&en(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&en("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||tC();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Dg(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ne(n.pathString)}},qk=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",a=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=Yk(t.substring(c,d)));const f=Qk(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",a=parseInt(e.substring(u+1),10)):u=e.length;const w=e.slice(0,u);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:a,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ne(this.snapshot.exportVal())}}class Xk{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return H(this._path)?null:bc(this._path)}get ref(){return new nn(this._repo,this._path)}get _queryIdentifier(){const e=gf(this._queryParams),n=Nc(e);return n==="{}"?"default":n}get _queryObject(){return gf(this._queryParams)}isEqual(e){if(e=Xr(e),!(e instanceof rd))return!1;const n=this._repo===e._repo,r=$g(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+FC(this._path)}}class nn extends rd{constructor(e,n){super(e,n,new Oc,!1)}get parent(){const e=Bg(this._path);return e===null?null:new nn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class us{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ne(e),r=Eu(this.ref,e);return new us(this._node.getChild(n),r,we)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new us(i,Eu(this.ref,r),we)))}hasChild(e){const n=new ne(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ir(t,e){return t=Xr(t),t._checkNotDeleted("ref"),e!==void 0?Eu(t._root,e):t._root}function Eu(t,e){return t=Xr(t),Q(t._path)===null?Ik("child","path",e):Ey("child","path",e),new nn(t._repo,_e(t._path,e))}function id(t,e){t=Xr(t),Pk("set",t._path),kk("set",e,t._path);const n=new gs;return Uk(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Zk(t,e){Tk("update",e,t._path);const n=new gs;return Bk(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function sd(t){t=Xr(t);const e=new Jk(()=>{}),n=new od(e);return Wk(t._repo,t,n).then(r=>new us(r,new nn(t._repo,t._path),t._queryParams.getIndex()))}class od{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Kk("value",this,new us(e.snapshotNode,new nn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Xk(this,e,n):null}matches(e){return e instanceof od?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}KE(nn);tk(nn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="FIREBASE_DATABASE_EMULATOR_HOST",ku={};let t2=!1;function n2(t,e,n,r){t.repoInfo_=new Dg(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function r2(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||en("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Oe("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=bf(s,i),l=o.repoInfo,a;typeof process<"u"&&Xh&&(a=Xh[e2]),a?(s=`http://${a}?ns=${l.namespace}`,o=bf(s,i),l=o.repoInfo):o.repoInfo.secure;const u=new hC(t.name,t.options,e);bk("Invalid Firebase Database URL",o),H(o.path)||en("Database URL must point to the root of a Firebase Database (not including a child path).");const c=s2(l,t,u,new dC(t.name,n));return new o2(c,t)}function i2(t,e){const n=ku[e];(!n||n[t.key]!==t)&&en(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Vk(t),delete n[t.key]}function s2(t,e,n,r){let i=ku[e.name];i||(i={},ku[e.name]=i);let s=i[t.toURLString()];return s&&en("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Lk(t,t2,n,r),i[t.toURLString()]=s,s}class o2{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jk(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nn(this._repo,X())),this._rootInternal}_delete(){return this._rootInternal!==null&&(i2(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&en("Cannot call "+e+" on a deleted database.")}}function l2(t=zS(),e){const n=AS(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=kx("database");r&&a2(n,...r)}return n}function a2(t,e,n,r={}){t=Xr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&en("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&en('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ro(ro.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:Nx(r.mockUserToken,t.app.options.projectId);s=new ro(o)}n2(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){qS(FS),Lo(new es("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return r2(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Rr(Jh,Zh,t),Rr(Jh,Zh,"esm2017")}Qt.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Qt.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};u2();var c2="firebase",d2="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(c2,d2,"app");const h2={apiKey:"AIzaSyAloL2kBhAeCEive-B3BtvI3ju99jZD-Iw",authDomain:"padel09-16403.firebaseapp.com",databaseURL:"https://padel09-16403-default-rtdb.firebaseio.com",projectId:"padel09-16403",storageBucket:"padel09-16403.appspot.com",messagingSenderId:"884109338974",appId:"1:884109338974:web:8aff0e891aedea2a4747cf"},f2=gg(h2),sr=l2(f2),p2=()=>{const t={players:[],settings:{backgroundUrl:"https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&q=80",backgroundOverlay:"bg-opacity-95"},matches:[]};localStorage.getItem("localData")||localStorage.setItem("localData",JSON.stringify(t))};p2();const El=()=>{try{const t=localStorage.getItem("localData");return t?JSON.parse(t):null}catch(t){return console.error("Error reading local data:",t),null}},Pt=(t,e)=>{try{const n=El()||{};n[t]=e,localStorage.setItem("localData",JSON.stringify(n))}catch(n){console.error("Error saving local data:",n)}},m2=async()=>{try{const e=await sd(ir(sr,"players"));if(e.exists()){const n=e.val(),r=Object.values(n).map(i=>({...i,createdAt:new Date(i.createdAt),lastUpdated:new Date(i.lastUpdated)}));return Pt("players",r),r}}catch(e){console.warn("Firebase error, using local storage:",e)}const t=El();return(t==null?void 0:t.players)||[]},g2=async t=>{try{const e={};t.forEach(n=>{e[`players/${n.id}`]={...n,createdAt:n.createdAt.toISOString(),lastUpdated:n.lastUpdated.toISOString()}}),await Zk(ir(sr),e),Pt("players",t)}catch(e){console.warn("Firebase error, saving to local storage:",e),Pt("players",t)}},y2=async()=>{try{const e=await sd(ir(sr,"matches"));if(e.exists()){const n=e.val(),r=Object.values(n);return Pt("matches",r),r}}catch(e){console.warn("Firebase error, using local storage:",e)}const t=El();return(t==null?void 0:t.matches)||[]},v2=async t=>{try{const e=t.reduce((n,r)=>(n[r.id]=r,n),{});await id(ir(sr,"matches"),e),Pt("matches",t)}catch(e){console.warn("Firebase error, saving to local storage:",e),Pt("matches",t)}},_2=async()=>{try{const e=await sd(ir(sr,"votes"));if(e.exists()){const n=e.val(),r=Object.values(n);return Pt("votes",r),r}}catch(e){console.warn("Firebase error, using local storage:",e)}const t=El();return(t==null?void 0:t.votes)||[]},w2=async t=>{try{const e=t.reduce((n,r)=>(n[r.id]=r,n),{});await id(ir(sr,"votes"),e),Pt("votes",t)}catch(e){console.warn("Firebase error, saving to local storage:",e),Pt("votes",t)}},x2=async()=>{try{await id(ir(sr,"matches"),null),Pt("matches",[])}catch(t){console.warn("Firebase error, clearing local storage:",t),Pt("matches",[])}};function S2(){const[t,e]=B.useState([]),[n,r]=B.useState([]),[i,s]=B.useState([]),[o,l]=B.useState(!1),[a,u]=B.useState(!1),[c,d]=B.useState(null),[f,w]=B.useState(!0),[v,x]=B.useState();B.useEffect(()=>{(async()=>{try{const[j,J,te]=await Promise.all([m2(),y2(),_2()]);e(j),r(J),s(te)}catch(j){console.error("Error loading data:",j)}finally{w(!1)}})()},[]),B.useEffect(()=>{f||g2(t)},[t,f]),B.useEffect(()=>{f||v2(n)},[n,f]),B.useEffect(()=>{f||w2(i)},[i,f]);const T=(E,j)=>{const J={id:crypto.randomUUID(),name:E,wins:0,losses:0,createdAt:new Date,lastUpdated:new Date,authCode:j};e([...t,J])},y=E=>{d(E)},p=()=>{c&&(e(t.filter(E=>E.id!==c)),d(null))},g=()=>{e([]),r([]),x2(),u(!1)},S=(E,j)=>{e(t.map(J=>J.id===E?{...J,imageUrl:j,lastUpdated:new Date}:J))},P=(E,j)=>{e(t.map(ae=>E.includes(ae.id)?{...ae,wins:ae.wins+1,lastUpdated:new Date}:j.includes(ae.id)?{...ae,losses:ae.losses+1,lastUpdated:new Date}:ae));const J={id:crypto.randomUUID(),team1:{player1Id:E[0],player2Id:E[1],score:1},team2:{player1Id:j[0],player2Id:j[1],score:0},winner:1,date:new Date().toISOString()},te=[...n,J];r(te)},D=E=>{o&&r(n.filter(j=>j.id!==E))},M=(E,j,J)=>{e(t.map(te=>{if(te.id===E){const ae={...te};return J?ae[j]++:ae[j]=Math.max(0,ae[j]-1),ae.lastUpdated=new Date,ae}return te}))},N=E=>{s([...i,E])},z=E=>{s(i.filter(j=>j.id!==E))};return f?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"text-xl text-gray-600",children:"Loading..."})}):h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsxs("div",{className:"container mx-auto px-4 py-6",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx(sx,{isEditMode:o,onToggle:l}),o&&h.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-1 px-3 py-1.5 bg-red-500 text-white rounded hover:bg-red-600 transition-all text-sm",children:[h.jsx(Ki,{size:16})," "]})]}),h.jsx(mx,{players:t,onAuthenticate:x}),h.jsx(px,{players:t,votes:i,currentPlayerId:v,isEditMode:o,onVote:N,onDeleteVote:z}),o&&h.jsx("div",{className:"mb-6",children:h.jsx(rx,{onAddPlayer:T})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2",children:[h.jsx(cx,{players:t,onMatchComplete:P}),h.jsxs("div",{className:"mt-6",children:[h.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:" "}),h.jsx(dx,{matches:n,players:t,isEditMode:o,onDelete:D})]})]}),h.jsxs("div",{children:[h.jsx(Z1,{players:t}),o&&h.jsx("div",{className:"mt-6 grid sm:grid-cols-2 lg:grid-cols-1 gap-4",children:t.map(E=>h.jsx(T_,{player:E,onDelete:y,isEditMode:o,onUpdateScore:M,onUpdateImage:S},E.id))})]})]})]}),h.jsx(Fh,{isOpen:a,title:"  ",message:"             .",onConfirm:g,onCancel:()=>u(!1)}),h.jsx(Fh,{isOpen:!!c,title:"  ",message:"             .",onConfirm:p,onCancel:()=>d(null)})]})}$m(document.getElementById("root")).render(h.jsx(B.StrictMode,{children:h.jsx(S2,{})}))});export default C2();
